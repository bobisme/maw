{"ts":"2026-02-04T05:38:24.146331432Z","author":"maw-dev","event":"ReviewCreated","data":{"review_id":"cr-30a3","jj_change_id":"wwmlrsvwzwznoklusqmvuxxxxrmootrp","initial_commit":"7d9da53f112bd0afd8899e34c246647db8202014","title":"bd-2v6, bd-10y: Pre/post-merge hooks and stale workspace detection","description":"## Summary\n\nTwo related features to improve maw workspace management:\n\n### bd-2v6: Pre/post-merge hooks support\n- Add [hooks] section to .maw.toml with pre_merge and post_merge command arrays\n- Pre-merge hooks run before merge and abort on failure (non-zero exit)\n- Post-merge hooks run after merge and warn but don't abort\n- Commands executed via 'sh -c' to allow shell features (pipes, redirects)\n- Hook output displayed during execution\n\nConfig example:\n```toml\n[hooks]\npre_merge = [\"cargo check\", \"cargo test --no-run\"]\npost_merge = [\"echo 'Merge complete'\"]\n```\n\n### bd-10y: Automatic stale workspace detection\n- Add check_stale_workspaces() helper that scans all workspaces\n- Add warn_stale_workspaces() to print warning when any are stale\n- Integrated into 'maw ws list' to catch stale state early\n\nOutput example:\n```\nWARNING: 2 workspace(s) stale: alice, bob\n  Fix: maw ws sync --all\n```\n\n## Security considerations\n- pre_merge hook commands come from .maw.toml (repo-controlled config)\n- Similar to git hooks, npm scripts, Makefiles - intentional design\n- Commands execute via 'sh -c' in repo root context"}}
{"ts":"2026-02-04T05:38:30.189184941Z","author":"maw-dev","event":"ReviewersRequested","data":{"review_id":"cr-30a3","reviewers":["maw-security"]}}
{"ts":"2026-02-04T05:39:47.849037185Z","author":"maw-security","event":"ReviewerVoted","data":{"review_id":"cr-30a3","vote":"lgtm"}}
{"ts":"2026-02-04T05:39:47.864342212Z","author":"maw-security","event":"ReviewApproved","data":{"review_id":"cr-30a3"}}
{"ts":"2026-02-04T05:40:03.247371143Z","author":"maw-dev","event":"ReviewMerged","data":{"review_id":"cr-30a3","final_commit":"61c27a1f2f88566a7545c67ff6479851244e6d1a"}}
