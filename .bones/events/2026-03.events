# bones event log v1
# fields: wall_ts_us	agent	itc	parents	type	item_id	data	event_hash
1772328419875174	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEy_AY		item.create	bn-1j7s	{"description":"The 'maw' name is taken on crates.io. Rename the package to 'maw-workspaces' while keeping the binary as 'maw'.\n\nChanges needed:\n- Cargo.toml: name = \"maw-workspaces\", add [[bin]] name = \"maw\" path = \"src/main.rs\"\n- Fix any integration tests or Kani harnesses that reference the crate as 'maw' (use maw:: -> use maw_workspaces::, extern crate maw -> extern crate maw_workspaces). Internal crate:: refs are unaffected.\n- README.md: update install command from cargo install --git ... to cargo install maw-workspaces (once published)\n- CLAUDE.md / AGENTS.md: update any install instructions\n- Verify: cargo build --release, cargo test, cargo package --list (dry run)\n- After merge: cargo publish","kind":"task","title":"Rename crate to maw-workspaces for crates.io publish"}	blake3:S8jnLbud98aQUWFxTpH69Pt4PybWrJF67QEQp_1GLQ8
1772328470051012	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEy_QY		item.delete	bn-1j7s	{}	blake3:qv0frqhJk_58sQyM26UzF0mi_hwtw6mAurDexI74oLI
1772328475979044	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEy_gY		item.create	bn-rg2b	{"description":"The 'maw' name is taken on crates.io. Rename the package to 'maw-workspaces' while keeping the binary as 'maw'.\n\n## Crate rename\n- Cargo.toml: name = \"maw-workspaces\", add [[bin]] name = \"maw\" path = \"src/main.rs\"\n- Fix any integration tests or Kani harnesses that reference the crate as 'maw' (use maw:: -> use maw_workspaces::, extern crate maw -> extern crate maw_workspaces). Internal crate:: refs are unaffected.\n- README.md: update install command to cargo install maw-workspaces\n- CLAUDE.md / AGENTS.md: update any install instructions\n- Verify: cargo build --release, cargo test, cargo package --list (dry run)\n\n## CI publish workflow\n- Add .github/workflows/publish.yml — triggered on version tags (v*)\n- Steps: checkout, install Rust toolchain, cargo publish\n- Uses CARGO_REGISTRY_TOKEN secret (already set on GitHub, scoped to updates only)\n- First publish must be done manually (cargo publish), CI handles subsequent releases\n- Run cargo test before publish as a gate\n\n## Release flow after this\n1. Bump version in Cargo.toml, commit, maw push\n2. maw release vX.Y.Z (creates + pushes tag)\n3. CI picks up the tag, runs cargo publish automatically","kind":"task","title":"Rename crate to maw-workspaces and add CI publish"}	blake3:7w0iOnJ8ajKOXtuFvhzqHaoZGXIQzF3kFwjGNkdmQUY
1772328487318231	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEy_wY		item.move	bn-rg2b	{"state":"doing"}	blake3:VbbTm_bMh789T4iz4MBsi_-gxdrC4Fl_1vaA4PEUn34
1772329298033766	bob	itc:v3:AWKSc8kyZJPJk5EAAAAAQau9WtV610AAAAEzzQE		item.create	bn-1u4w	{"description":"we currently shell out to git for everything. it could make sense to use a crate to do git stuff.\n\ndeliverables:\n- a comment on this bone with details about what was discovered and if we should go forward with it.\n- if going forward, plan out detailed and granular bones for making it happen","kind":"task","labels":["spike"],"size":"m","title":"evaluate/spike using gitoxide/gix"}	blake3:rVJq93uL8UezCYtJ3zYzhuGqrv29CAbficfsNBFoYJQ
1772329442866889	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEygAc		item.move	bn-rg2b	{"state":"done"}	blake3:21BdnqYF9TCmKH9S5WfQtYvPnIYLvMvO16uPwZY2UIc
1772330857248918	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEygQc		item.create	bn-1cpd	{"description":"Allow merging workspaces into a non-default target workspace.\n\nCurrently `maw ws merge` always targets ws/default/. Add `--into <workspace>` flag to merge into any workspace, enabling:\n\n- Feature branches: merge agent work into a staging workspace, then merge staging into default when ready\n- Long-running migrations: accumulate work in a persistent workspace across many phases before landing\n- Review workflows: merge into a review workspace for validation before promoting to default\n\nImplementation considerations:\n- Target workspace must exist and be persistent (or default)\n- Epoch tracking: the target workspace needs its own epoch-like baseline\n- Conflict detection against the target workspace's state, not default's\n- Recursive merge: eventually merge the non-default target into default\n\nPunted — not blocking current work.","kind":"task","labels":["punted"],"title":"maw ws merge --into: alternate merge targets"}	blake3:FwsJo-G2MPRCHy81RldigLJUQi3whUBNa5sP-KWepDk
1772331046224171	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyggc		item.comment	bn-1u4w	{"body":"Spike complete. Evaluated gix against all 398 git CLI call sites in maw. Finding: gix covers ~95% of needs (refs, rev-parse, objects, checkout, status, diff, tree editing, index, commit creation). Remaining gaps: worktree add/remove (buildable from primitives, ~50 LoC), push (not in high-level API, keep as CLI). Decision: proceed with full migration. Plan at notes/plan-gix-migration-and-crate-split.md. Closing spike and creating implementation bones."}	blake3:kxqSmGFLPNeDoj-qon3CHWiKgPZBfP9K6ZUGKKoajik
1772331049380287	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEygwc		item.move	bn-1u4w	{"state":"done"}	blake3:YKN4SkdEuh-o7YBMgHFUwUbbQ89V-QsWBM4B9OeViAI
1772331067823088	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyhAc		item.create	bn-36ud	{"description":"# Context & Background\nmaw is currently a single 68k-line crate at ws/default/. To support the gix migration and crate split (see notes/plan-gix-migration-and-crate-split.md), we need to convert to a Cargo workspace first. This is the foundation that all other phases build on.\n\n# Goals\n- Establish a Cargo workspace at ws/default/ with a root Cargo.toml\n- Create empty crate shells under crates/ for: maw-git, maw-core, maw-cli, maw-tui, maw-assurance\n- The existing code stays in its current location for now (one member of the workspace)\n- Everything compiles and tests pass — zero behavior change\n\n# Reasoning/Justification\nPhase 0 is deliberately minimal. It only changes build configuration, not code. This means if anything goes wrong, it's purely a Cargo issue, not a code issue. It also lets us verify the workspace setup works before moving any code.\n\n# Implementation Approach\n1. Rename ws/default/Cargo.toml [package] section — the existing crate becomes `maw-workspaces` (the CLI binary, already named this)\n2. Create ws/default/Cargo.toml [workspace] section listing all member crates\n3. Create crates/ directory with skeleton Cargo.toml + src/lib.rs for each crate\n4. Each skeleton crate should have correct name, version, edition, and empty lib.rs\n5. Update the root Justfile if needed for workspace-aware commands\n6. Verify: cargo build --release, cargo test, just install, maw --version\n\n# Key files\n- ws/default/Cargo.toml (modify — add [workspace])\n- ws/default/crates/maw-git/Cargo.toml (create)\n- ws/default/crates/maw-core/Cargo.toml (create)\n- ws/default/crates/maw-cli/Cargo.toml (create)\n- ws/default/crates/maw-tui/Cargo.toml (create)\n- ws/default/crates/maw-assurance/Cargo.toml (create)\n\n# Acceptance Criteria\n- [ ] Cargo workspace with 6 members (existing crate + 5 new skeletons)\n- [ ] cargo build --release succeeds\n- [ ] cargo test passes (all 1100+ tests)\n- [ ] just install works, maw --version shows correct version\n- [ ] Each skeleton crate compiles independently (cargo check -p maw-git etc.)\n- [ ] CI publish workflow still works (only publishes maw-workspaces)\n\n# How This Serves Project Goals\nFoundation for the entire gix migration and crate split. Every subsequent phase depends on this workspace structure existing.","kind":"task","title":"Phase 0: Convert to Cargo workspace"}	blake3:ev2izAxPMsCTs-Ykw8J3G3V1s5Zq-i8Dt1E7q1Hyx60
1772331090124263	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyhQc		item.create	bn-3s9y	{"description":"# Context & Background\nmaw shells out to git 398 times across 40 files. The maw-git crate encapsulates all git operations behind a trait, backed by gix (pure Rust git). This is the most important crate in the split — it isolates the gix dependency so nothing else in the workspace touches git directly.\n\nSee notes/plan-gix-migration-and-crate-split.md for the full plan and gix capability assessment.\n\n# Goals\n- Define a GitRepo trait covering all git operations maw needs\n- Implement the trait using gix for ~95% of operations\n- Implement worktree add/remove from gix primitives (not in gix high-level API)\n- Implement push as git CLI fallback (gix lacks high-level push)\n- Comprehensive test suite against real git repos (tempdir-based)\n- Do NOT integrate with maw-core yet — this phase is just the crate and its tests\n\n# Reasoning/Justification\nThe trait boundary is critical for two reasons: (1) it isolates gix API instability (pre-1.0) from the rest of maw, and (2) it enables testing maw-core with mock git backends. The trait methods map directly to the operations we identified in the capability assessment.\n\n# Implementation Approach\nThe GitRepo trait should cover these operation groups:\n- Refs: read_ref, write_ref, delete_ref, atomic_ref_update, list_refs\n- Rev-parse: rev_parse (resolve revspecs to OIDs)\n- Objects: read_blob, write_blob, read_tree, write_tree, find_object\n- Commits: create_commit (with/without ref update)\n- Trees: edit_tree (upsert/remove entries), diff_trees\n- Index: read_index, write_index, index_from_tree\n- Checkout: checkout_tree (tree -> working directory via index)\n- Status: is_dirty, changed_files (porcelain-equivalent)\n- Worktrees: worktree_add, worktree_remove, worktree_list\n- Stash: stash_create, stash_apply (built from commit + tree editor)\n- Push: push_branch, push_tag (CLI fallback)\n- Config: read_config, write_config\n\nThe gix implementation should use:\n- gix::Repository for repo access\n- repo.edit_references() for atomic ref updates\n- repo.rev_parse_single() for revspec resolution\n- repo.find_object/find_commit/find_tree/find_blob for object reads\n- repo.write_object/write_blob/commit_as for writes\n- gix-worktree-state::checkout() for checkout\n- repo.status() / repo.is_dirty() for status\n- Manual worktree creation: mkdir + .git file + admin dir + from_tree() + checkout()\n\n# Acceptance Criteria\n- [ ] GitRepo trait defined with all needed methods\n- [ ] gix-backed implementation passes all tests\n- [ ] Worktree add/remove works and is compatible with git CLI (git worktree list sees them)\n- [ ] Stash create/apply produces valid git stash commits\n- [ ] Push works via CLI fallback\n- [ ] Tests run against real tempdir repos, not mocks\n- [ ] cargo test -p maw-git passes\n- [ ] No Command::new(\"git\") except in push fallback\n\n# How This Serves Project Goals\nThis is the engine of the migration. Once maw-git exists with a clean trait, swapping all 398 git calls becomes mechanical: replace Command::new(\"git\") with trait method calls.","kind":"task","title":"Phase 1: Implement maw-git crate with gix backend"}	blake3:xyFIZcGGBAVsSH04_f57Pa9tjLIxSNRdQP_fvupLlYc
1772331102464921	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyhgc		item.create	bn-10ha	{"description":"# Context & Background\nmaw-core is the domain logic: merge engine, model types, backends, oplog, refs, config. It's the bulk of the codebase (~40k lines). This phase moves it into its own crate and wires it to maw-git instead of Command::new(\"git\").\n\n# Goals\n- Move model/, merge/, backend/, oplog/, refs.rs, config.rs, merge_state.rs, epoch_gc.rs, failpoints.rs into crates/maw-core/\n- Replace all Command::new(\"git\") in maw-core with maw-git trait calls\n- backend/git.rs (42 git calls, 1891 lines) is the biggest integration point\n- refs.rs (16 calls) is the second biggest\n- Integration tests that exercise maw-core directly move with it or become workspace-level tests\n\n# Key files moving\n- src/model/ -> crates/maw-core/src/model/\n- src/merge/ -> crates/maw-core/src/merge/\n- src/backend/ -> crates/maw-core/src/backend/\n- src/oplog/ -> crates/maw-core/src/oplog/\n- src/refs.rs -> crates/maw-core/src/refs.rs\n- src/config.rs -> crates/maw-core/src/config.rs\n- src/merge_state.rs -> crates/maw-core/src/merge_state.rs\n- src/epoch_gc.rs -> crates/maw-core/src/epoch_gc.rs\n- src/failpoints.rs -> crates/maw-core/src/failpoints.rs\n\n# Acceptance Criteria\n- [ ] All listed modules live in crates/maw-core/\n- [ ] maw-core depends on maw-git, not on gix directly\n- [ ] Zero Command::new(\"git\") in maw-core\n- [ ] cargo test -p maw-core passes\n- [ ] Full workspace test suite still passes\n- [ ] cargo build --release succeeds\n\n# How This Serves Project Goals\nSeparates domain logic from CLI concerns. maw-core becomes a publishable library that other tools could use to implement merge operations.","kind":"task","title":"Phase 2: Extract maw-core"}	blake3:A3n6JdouXZ3NNdDvYZavWvgcGNb-9N3b7BW9mXLtozc
1772331114955639	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyhwc		item.create	bn-2o5g	{"description":"# Context & Background\nAfter maw-core and maw-git are extracted, the remaining code is CLI-specific: argument parsing, workspace commands, push/release workflows, doctor, init, format, error display. This moves into maw-cli, which produces the maw binary.\n\n# Goals\n- Move all CLI-facing modules into crates/maw-cli/\n- Wire to maw-core and maw-git\n- Replace any remaining Command::new(\"git\") with maw-git trait calls\n- The maw binary is produced by this crate\n\n# Key files moving\n- src/main.rs -> crates/maw-cli/src/main.rs\n- src/workspace/ -> crates/maw-cli/src/workspace/\n- src/push.rs -> crates/maw-cli/src/push.rs\n- src/release.rs -> crates/maw-cli/src/release.rs\n- src/doctor.rs -> crates/maw-cli/src/doctor.rs\n- src/status.rs -> crates/maw-cli/src/status.rs\n- src/v2_init.rs -> crates/maw-cli/src/v2_init.rs\n- src/upgrade.rs -> crates/maw-cli/src/upgrade.rs\n- src/exec.rs -> crates/maw-cli/src/exec.rs\n- src/agents.rs -> crates/maw-cli/src/agents.rs\n- src/format.rs -> crates/maw-cli/src/format.rs\n- src/error.rs -> crates/maw-cli/src/error.rs\n- src/merge_cmd.rs -> crates/maw-cli/src/merge_cmd.rs\n- src/transport.rs -> crates/maw-cli/src/transport.rs\n- src/telemetry.rs -> crates/maw-cli/src/telemetry.rs\n- src/audit.rs -> crates/maw-cli/src/audit.rs\n\nThis is the biggest move but mostly mechanical — imports change, logic doesn't.\n\n# Acceptance Criteria\n- [ ] All CLI modules live in crates/maw-cli/\n- [ ] maw-cli depends on maw-core and maw-git\n- [ ] The maw binary is produced by maw-cli\n- [ ] cargo test passes for all workspace members\n- [ ] just install works, maw --version shows correct version\n- [ ] Zero Command::new(\"git\") in maw-cli (all delegated to maw-git)\n\n# How This Serves Project Goals\nCompletes the core crate split. After this, the original single-crate code is fully distributed across maw-git, maw-core, and maw-cli.","kind":"task","title":"Phase 3: Extract maw-cli"}	blake3:UGbZziTgsA5xNw6pd-bGQGAUS5d9wo9AYYCbbIVad6Y
1772331123479077	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyiAc		item.create	bn-1w40	{"description":"# Context & Background\nThe TUI module (ratatui-based) is a small, self-contained feature. Extracting it makes it optional and reduces maw-cli compile times when TUI isn't needed.\n\n# Goals\n- Move src/tui/ into crates/maw-tui/\n- Feature-gate in maw-cli (tui feature)\n- maw-tui depends on maw-core for status/model types\n\n# Key files\n- src/tui/app.rs -> crates/maw-tui/src/app.rs\n- src/tui/event.rs -> crates/maw-tui/src/event.rs\n- src/tui/mod.rs -> crates/maw-tui/src/lib.rs\n- src/tui/theme.rs -> crates/maw-tui/src/theme.rs\n- src/tui/ui.rs -> crates/maw-tui/src/ui.rs\n\n# Acceptance Criteria\n- [ ] TUI code lives in crates/maw-tui/\n- [ ] maw-cli enables TUI via feature flag\n- [ ] cargo test -p maw-tui passes\n- [ ] TUI works when feature is enabled\n- [ ] maw binary still works without TUI feature\n\n# How This Serves Project Goals\nClean separation of optional UI from core logic. Small crate, low risk.","kind":"task","title":"Phase 4: Extract maw-tui"}	blake3:U8DRnPztE92VezOZIreJ20OxZxQcpMUAQY1GmzfzEPs
1772331133036562	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyiQc		item.create	bn-sd3t	{"description":"# Context & Background\nThe assurance infrastructure (DST harness, invariant oracle, Stateright model, Kani proofs, contract drift) is test/dev-only code. Moving it into its own crate keeps it organized and prevents it from bloating the production crates.\n\n# Goals\n- Move src/assurance/ into crates/maw-assurance/src/\n- Move tests/dst_harness.rs, tests/formal_model.rs, tests/contract_drift.rs into maw-assurance tests\n- Kani proofs (src/merge/kani_proofs.rs) stay in maw-core since they verify core merge algebra\n- maw-assurance depends on maw-core and maw-git\n- NOT published to crates.io\n\n# Acceptance Criteria\n- [ ] Oracle, trace logger, DST model in crates/maw-assurance/\n- [ ] just dst-fast passes\n- [ ] just formal-check passes\n- [ ] just kani-fast passes (proofs stay in maw-core)\n- [ ] Contract drift checks still work\n- [ ] cargo test -p maw-assurance passes\n\n# How This Serves Project Goals\nKeeps test infrastructure organized and separate from production code. Enables running assurance checks independently.","kind":"task","title":"Phase 5: Extract maw-assurance"}	blake3:UHDWC_CIWP51eclYC69vMCMBjJAaXCds6KDcDtDHH14
1772331142981912	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyigc		item.create	bn-3avu	{"description":"# Context & Background\nAfter phases 1-5, most git CLI calls should be replaced by maw-git trait calls. This phase audits all crates for stragglers and eliminates them.\n\n# Goals\n- Audit all crates for remaining Command::new(\"git\") calls\n- Replace each with the appropriate maw-git trait method\n- Push can stay as CLI fallback if gix-protocol is too low-level, or migrate to gix-protocol\n- Target: zero git CLI calls in production code (test helpers may keep CLI for setup)\n\n# Acceptance Criteria\n- [ ] grep -r 'Command::new(\"git\")' crates/ shows zero hits in production code\n- [ ] Test helpers use maw-git or are explicitly marked as CLI-based test setup\n- [ ] Full test suite passes\n- [ ] cargo build --release succeeds\n\n# How This Serves Project Goals\nCompletes the gix migration. maw becomes a pure-Rust tool with no subprocess dependency on git for core operations.","kind":"task","title":"Phase 6: Eliminate remaining git CLI calls"}	blake3:ZthFwo63tcwvtwDzsGmKDnDCWdSVnLuKyR3-4VtVe5A
1772331150166270	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyiwc		item.create	bn-2g73	{"description":"# Context & Background\nWith the crate split complete, maw-git and maw-core are publishable library crates. Other tools could depend on them for git abstraction or merge engine functionality.\n\n# Goals\n- Publish maw-git and maw-core to crates.io\n- Update maw-workspaces (CLI) to depend on published versions\n- Version alignment across all workspace crates\n- Update CI publish workflow for multi-crate publishing\n- Update README with library usage examples\n\n# Acceptance Criteria\n- [ ] maw-git published to crates.io\n- [ ] maw-core published to crates.io\n- [ ] maw-workspaces depends on published crate versions\n- [ ] CI publishes all crates on version tags\n- [ ] README documents library usage\n\n# How This Serves Project Goals\nMakes maw's git abstraction and merge engine available as reusable libraries for the Rust ecosystem.","kind":"task","title":"Phase 7: Publish library crates to crates.io"}	blake3:64zi9XAuqVgzMnhPz2C62lmJXpvZxR-E5trjcYk_UeQ
1772331155590228	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyjAc		item.link	bn-3s9y	{"link_type":"blocks","target":"bn-36ud"}	blake3:jxdknLddtDJM_QCKEe4AuE83kNPDWAeVWdeXlEsfhKw
1772331155617292	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyjQc		item.link	bn-10ha	{"link_type":"blocks","target":"bn-3s9y"}	blake3:wvjmI3HKxUl4y2i67Hl-FeutIZcoqv29lvVkxHCpQhE
1772331155641788	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyjgc		item.link	bn-2o5g	{"link_type":"blocks","target":"bn-10ha"}	blake3:DjVbecpoB7uowOIpOIyWIPcIFdWnbe9RsLzxOXbjQJ0
1772331155663409	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyjwc		item.link	bn-1w40	{"link_type":"blocks","target":"bn-2o5g"}	blake3:yBGiSTliwd5EXsBhxazJz_MfoRqOhwfCM_anc8MqKbg
1772331155684767	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEykAc		item.link	bn-sd3t	{"link_type":"blocks","target":"bn-2o5g"}	blake3:PBpdzOngPvq6G9Cij-ZJiKQeJYoVHTDEsY_xIAXK_tU
1772331155704665	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEykQc		item.link	bn-3avu	{"link_type":"blocks","target":"bn-1w40"}	blake3:8Ger1SZ4vSnoXLoZropVMOOqaGfpccxZmt1w5GLP2yQ
1772331155723409	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEykgc		item.link	bn-3avu	{"link_type":"blocks","target":"bn-sd3t"}	blake3:pl68ZU1rwvu3K3XGi_X57uLqJ5W0Fddn00-FGVpEw5w
1772331155748153	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEykwc		item.link	bn-2g73	{"link_type":"blocks","target":"bn-3avu"}	blake3:KHZTyC6wbg2kaOru5O61we7_Va4DvAZkbx4-2r20y6g
1772331201830730	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEylAc		item.create	bn-2ws5	{"description":"# Context & Background\nThe GitRepo trait is the contract between maw-core/maw-cli and the git layer. It must cover all operations currently done via Command::new(\"git\") across the codebase. The trait design determines the quality of the entire migration.\n\nBased on the audit of 398 git call sites, the trait needs these operation groups:\n- Ref operations (~60 calls): read, write, delete, atomic multi-update, list\n- Rev-parse (~80 calls): resolve revspecs (HEAD, OIDs, ref names) to OIDs\n- Object read (~80 calls): blob content, tree entries, commit metadata\n- Object write (~40 calls): create blobs, trees, commits\n- Tree editing (~20 calls): upsert/remove entries in trees\n- Index (~15 calls): read/write, populate from tree\n- Checkout (~15 calls): materialize tree onto disk\n- Status (~15 calls): dirty detection, changed file list\n- Diff (~20 calls): tree-to-tree diff with change types\n- Worktree lifecycle (~20 calls): add, remove, list\n- Stash (~15 calls): create snapshot, apply snapshot\n- Push (~17 calls): push branch, push tag to remote\n- Config (~15 calls): read/write git config values\n\n# Goals\n- Define a clean, ergonomic Rust trait covering all the above\n- Use maw-specific types, not gix types, in the trait signature (isolation)\n- Error types should be rich (not stringly typed like git stderr)\n- Trait should be object-safe where possible for dynamic dispatch\n\n# Implementation Approach\nDefine in crates/maw-git/src/lib.rs or crates/maw-git/src/trait.rs:\n- Custom types: GitOid, RefName, RefEdit, TreeEntry, BlobContent, DiffEntry, WorktreeInfo, StatusEntry, StashSnapshot\n- GitRepo trait with &self methods (repo is opened once, reused)\n- GitRepoOpen trait or constructor for opening repos from paths\n- Error enum with variants for each failure mode\n\nKey design decisions:\n- Paths should be &Path, not gix BStr\n- OIDs should be our own GitOid type (wrapping [u8; 20] or String)\n- Tree entries should carry mode + oid + name, not gix-specific types\n- Diff changes should be an enum: Added, Modified, Deleted, Renamed, Copied\n\n# Acceptance Criteria\n- [ ] GitRepo trait compiles in maw-git\n- [ ] All 13 operation groups represented\n- [ ] Custom types for OIDs, refs, tree entries, diffs, status\n- [ ] Error types cover all failure modes\n- [ ] Documentation on each trait method explaining the git operation it replaces\n- [ ] No gix types in the public trait signature\n\n# How This Serves Project Goals\nThe trait is the API contract that all other crates program against. Getting it right means the gix implementation is swappable, testable, and future-proof against gix API changes.","kind":"task","title":"Define GitRepo trait interface in maw-git"}	blake3:UAc4aMf2SxCIQ3pBxfQFOlVmOsuPaZEChvBkKodL0gI
1772331202007224	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEylQc		item.create	bn-1o1r	{"description":"# Context & Background\nRef operations are the highest-frequency git operations in maw (~60 calls). They cover: reading refs (rev-parse HEAD, reading refs/manifold/*), writing refs (epoch advancement, workspace state), deleting refs (cleanup), and atomic multi-ref updates (merge commit phase).\n\n# Goals\nImplement these GitRepo trait methods using gix:\n- read_ref(name) -> Option<GitOid>: repo.find_reference() / repo.try_find_reference()\n- write_ref(name, oid) -> Result: repo.reference() or repo.edit_references()\n- delete_ref(name) -> Result: ref.delete()\n- atomic_ref_update(edits) -> Result: repo.edit_references() with RefEdit structs\n- list_refs(prefix) -> Vec<(RefName, GitOid)>: repo.references().prefixed()\n- rev_parse(spec) -> GitOid: repo.rev_parse_single()\n\n# Implementation Approach\ngix provides:\n- repo.find_reference(\"refs/manifold/epoch/current\") for reads\n- repo.reference(name, oid, constraint, log_msg) for single writes\n- repo.edit_references(vec![RefEdit { ... }]) for atomic multi-ref updates\n- repo.references().prefixed(\"refs/manifold/\") for listing\n- repo.rev_parse_single(\"HEAD\") for revspec resolution\n\nThe atomic ref update is critical for merge commit safety — we currently use git update-ref --stdin. gix's edit_references() with PreviousValue::MustExistAndMatch provides the same CAS semantics.\n\n# Acceptance Criteria\n- [ ] All ref methods implemented with gix\n- [ ] Atomic ref update with CAS (compare-and-swap) works\n- [ ] Reading non-existent refs returns None, not error\n- [ ] Symbolic refs (HEAD) resolve correctly\n- [ ] Ref prefixes list correctly (refs/manifold/epoch/*, refs/manifold/ws/*)\n- [ ] Tests against real git repos (tempdir)\n- [ ] No Command::new(\"git\") for any ref operation\n\n# How This Serves Project Goals\nReplaces the most common git shell-out pattern. Every refs.rs function and most backend operations touch refs.","kind":"task","title":"Implement gix-backed ref operations in maw-git"}	blake3:f3Wfx_5DDJeJ94RgtCuesgfTbWVQD5rBUHXEvCk6woA
1772331202179845	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEylgc		item.create	bn-2gst	{"description":"# Context & Background\nObject operations (read/write blobs, trees, commits) account for ~120 calls. The merge engine reads trees to compute patch sets, reads blobs for content comparison, writes trees for merge results, and creates commits for epoch advancement.\n\n# Goals\nImplement these GitRepo trait methods:\n- find_object(oid) -> ObjectKind + data\n- read_blob(oid) -> Vec<u8>\n- write_blob(data) -> GitOid\n- read_tree(oid) -> Vec<TreeEntry>\n- write_tree(entries) -> GitOid: via tree editor\n- read_commit(oid) -> CommitInfo (tree, parents, message, author)\n- create_commit(ref, message, tree, parents) -> GitOid\n- create_commit_detached(message, tree, parents) -> GitOid (no ref update, for stash)\n- edit_tree(base_oid, ops) -> GitOid: programmatic tree modification\n\n# Implementation Approach\ngix provides:\n- repo.find_object(oid) / find_blob / find_tree / find_commit\n- repo.write_blob(bytes) / write_object(tree)\n- repo.commit_as(committer, author, ref, msg, tree, parents)\n- repo.new_commit_as(committer, author, msg, tree, parents) for detached\n- repo.edit_tree(oid) -> Editor with upsert/remove/write\n\n# Acceptance Criteria\n- [ ] Read/write blobs round-trip correctly\n- [ ] Tree reading returns correct entries with modes\n- [ ] Tree editing (upsert, remove) produces valid trees\n- [ ] Commit creation works with/without ref update\n- [ ] Detached commits work (for stash-like operations)\n- [ ] Large blob streaming works (write_blob_stream)\n- [ ] Tests verify objects are visible to git CLI\n\n# How This Serves Project Goals\nCore data operations for the merge engine. Every merge build/resolve/commit phase reads and writes objects.","kind":"task","title":"Implement gix-backed object read/write in maw-git"}	blake3:2vqSC0LaK8sYQYv-_HoraftmN1uTzq1CTRZEIL-KwI4
1772331225991781	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEylwc		item.update	bn-36ud	{"field":"kind","value":"goal"}	blake3:qIAXM-4iTWHqgqGtBINvCmzS6G6lMJLMMfuaeB76dJ4
1772331226019228	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEymAc		item.update	bn-3s9y	{"field":"kind","value":"goal"}	blake3:jxCIHrB0VYsHyMTK43yHKHMjerV9Z0rQmsAtVyqPbrQ
1772331226037490	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEymQc		item.update	bn-10ha	{"field":"kind","value":"goal"}	blake3:D8x6TqI2wbBjYytABo0kxQpuIXu3ZBVhwHQgsMOYxts
1772331226055292	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEymgc		item.update	bn-2o5g	{"field":"kind","value":"goal"}	blake3:5e975KNabyUTgwtxarFBxGpATRT0K2VJteNKlcHBqi4
1772331226074509	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEymwc		item.update	bn-1w40	{"field":"kind","value":"goal"}	blake3:vOCJmnGewypFUBMIC_iAJm5XQaGO2e_BY0NyCudMxDM
1772331226093363	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEynAc		item.update	bn-sd3t	{"field":"kind","value":"goal"}	blake3:pfvPZVVIbzD2zE8lpOoqdz4rk60NJlUABnbLj-6IjIU
1772331226110885	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEynQc		item.update	bn-3avu	{"field":"kind","value":"goal"}	blake3:WYaNKK6g3u_mAPlmclb56-vDOpE1uUocrxFTjH8G5wM
1772331226129837	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyngc		item.update	bn-2g73	{"field":"kind","value":"goal"}	blake3:eZeZhONztu4VZG1S5yyplNP52VXS74ng9Gx0_7NZz4c
1772331239169608	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEynwc		item.delete	bn-2ws5	{}	blake3:dGnnO_YW74rU28ZuDSjyzWZ0JjFsT2eDDoYIfPFR1J8
1772331239181361	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyoAc		item.delete	bn-1o1r	{}	blake3:f4aS20-CNUw8GEWxEGutQY3NtsOiTvhcfluJKtd1Qr0
1772331239182092	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyoQc		item.delete	bn-2gst	{}	blake3:BViANduTifT5Cn6wexNCyyJ0TUzzoDwmIWbNcyYEuOM
1772331259514969	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyogc		item.create	bn-1t8o	{"description":"# Context\nThe GitRepo trait is the contract between maw and the git layer. Must cover all 398 git CLI call sites identified in the capability assessment.\n\n# Operation groups for the trait\n- Refs (~60 calls): read_ref, write_ref, delete_ref, atomic_ref_update, list_refs\n- Rev-parse (~80 calls): rev_parse (resolve revspecs to OIDs)\n- Object read (~80 calls): read_blob, read_tree, read_commit, find_object\n- Object write (~40 calls): write_blob, write_tree, create_commit, create_commit_detached\n- Tree editing (~20 calls): edit_tree (upsert/remove entries)\n- Index (~15 calls): read_index, write_index, index_from_tree\n- Checkout (~15 calls): checkout_tree (tree -> working dir via index)\n- Status (~15 calls): is_dirty, changed_files\n- Diff (~20 calls): diff_trees (tree-to-tree with change types)\n- Worktrees (~20 calls): worktree_add, worktree_remove, worktree_list\n- Stash (~15 calls): stash_create, stash_apply\n- Push (~17 calls): push_branch, push_tag\n- Config (~15 calls): read_config, write_config\n\n# Design principles\n- Use maw-specific types in trait signature, NOT gix types (isolation)\n- Error types should be rich enums, not stringly typed\n- Trait should be object-safe where possible\n- Paths as &Path, OIDs as own GitOid type\n\n# Acceptance Criteria\n- Trait compiles in maw-git with all 13 operation groups\n- Custom types: GitOid, RefName, RefEdit, TreeEntry, DiffEntry, WorktreeInfo, StatusEntry\n- No gix types in public API\n- Documented methods explaining which git operation each replaces","kind":"task","parent":"bn-3s9y","title":"Define GitRepo trait interface in maw-git"}	blake3:Xx9UvJtYgthCysyFsNHUfVIGinCcAL_6IAne10Zncbg
1772331272807486	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyowc		item.create	bn-3vlu	{"description":"# Context\nRef operations are the highest-frequency git operations in maw (~60 calls + ~80 rev-parse). They cover reading refs (rev-parse HEAD, refs/manifold/*), writing refs (epoch advancement), deleting refs (cleanup), and atomic multi-ref updates (merge commit).\n\n# gix APIs to use\n- repo.find_reference() / try_find_reference() for reads\n- repo.reference(name, oid, constraint, log_msg) for single writes\n- repo.edit_references(vec![RefEdit]) for atomic multi-ref updates (CAS)\n- repo.references().prefixed() for listing\n- repo.rev_parse_single() for revspec resolution\n- ref.delete() for deletion\n\n# Critical: atomic ref updates\nThe merge commit phase uses git update-ref --stdin for CAS. gix edit_references() with PreviousValue::MustExistAndMatch provides identical semantics. This MUST work correctly for merge safety.\n\n# Acceptance Criteria\n- All ref trait methods implemented with gix\n- Atomic ref update with CAS (compare-and-swap) works correctly\n- Reading non-existent refs returns None, not error\n- Symbolic refs (HEAD) resolve correctly\n- Ref prefix listing works (refs/manifold/epoch/*, refs/manifold/ws/*)\n- Tests against real git repos (tempdir)\n- Zero Command::new(\"git\") for any ref operation","kind":"task","parent":"bn-3s9y","title":"Implement gix-backed ref and rev-parse operations"}	blake3:9-iHDa71Rhzbg1BbBihgyu5WBVBrqXtQBAMkMsenqaY
1772331282735012	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEypAc		item.create	bn-s2pz	{"description":"# Context\nObject operations (~120 calls) are the core data layer. The merge engine reads trees for patch sets, reads blobs for content, writes trees for merge results, creates commits for epoch advancement.\n\n# gix APIs to use\n- repo.find_object/find_blob/find_tree/find_commit for reads\n- repo.write_blob(bytes) / write_blob_stream for blob writes\n- repo.write_object(tree) for tree writes\n- repo.commit_as() for commits with ref update\n- repo.new_commit_as() for detached commits (stash)\n- repo.edit_tree(oid) -> Editor with upsert/remove/write for tree editing\n\n# Acceptance Criteria\n- Read/write blobs round-trip correctly\n- Tree reading returns correct entries with modes\n- Tree editing (upsert, remove) produces valid trees\n- Commit creation works with and without ref update\n- Detached commits work (for stash-like operations)\n- Large blob streaming works\n- Objects created by gix are visible to git CLI\n- Tests against real tempdir repos","kind":"task","parent":"bn-3s9y","title":"Implement gix-backed object read/write and tree editing"}	blake3:kGrXePbnWs9gHeOxUx7AND_btaa6UNn138LqU-rbJ-c
1772331333576355	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEypQc		item.create	bn-1zl7	{"description":"# Context\nCheckout (~15 calls), index (~15 calls), and status (~15 calls) are tightly related. maw uses checkout for sync/advance (git checkout --detach <oid>), status for dirty detection (git status --porcelain), and index manipulation for merge operations.\n\n# gix APIs to use\n- Checkout: gix_index::State::from_tree(oid) to populate index from tree, then gix_worktree_state::checkout(index, dir) to write files\n- Index: repo.open_index() to read, index.write() to persist, State::from_tree() to create from tree\n- Status: repo.status() for full status, repo.is_dirty() for quick dirty check, index_worktree_status for file-level changes\n\n# Key workflows this enables\n- sync_worktree_to_epoch(): currently git checkout --detach <oid> -> from_tree + checkout\n- auto_sync_if_stale(): status check then checkout\n- merge dirty detection: is_dirty() replaces git status --porcelain empty check\n\n# Acceptance Criteria\n- Checkout tree to directory works (equivalent to git checkout --detach <oid>)\n- Index from tree round-trips correctly\n- Status detects modified, added, deleted, untracked files\n- is_dirty() matches git status --porcelain behavior\n- Checkout respects file modes (executable bit)\n- Tests verify compatibility with git CLI view of same repo","kind":"task","parent":"bn-3s9y","title":"Implement gix-backed checkout, index, and status operations"}	blake3:x4IpDi3Bd-A2X_Ut9BZJXxi06i71tvMdEv7vqOsbZvc
1772331333748759	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEypgc		item.create	bn-14mi	{"description":"# Context\nTree-to-tree diff (~20 calls) is used by the merge engine to compute patch sets between epoch and workspace trees. Currently done via git diff-tree and parsed from output.\n\n# gix APIs to use\n- gix_diff::tree::diff(lhs, rhs, state, objects, delegate) with Visit trait\n- Change enum: Addition, Deletion, Modification with entry modes and OIDs\n- Optional rename/copy tracking via gix_diff::tree_with_rewrites\n\n# Acceptance Criteria\n- Tree-to-tree diff detects added, modified, deleted files\n- File modes are included in diff output\n- Rename detection works (optional, for ast_merge)\n- Diff against empty tree works (initial commit scenario)\n- Performance is at least as good as git diff-tree","kind":"task","parent":"bn-3s9y","title":"Implement gix-backed tree-to-tree diff"}	blake3:u1Hpqor_lglMdzejUdvnB1cSpMzGTli1xZVCwTyMsEs
1772331333923346	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEypwc		item.create	bn-1cc1	{"description":"# Context\nWorktree add/remove (~20 calls) is how maw creates and destroys agent workspaces. This is the ONE operation gix does NOT provide as a high-level API. crate-status.md explicitly marks \"[ ] create, move, remove, and repair\" as unimplemented. We must build it from primitives.\n\n# Implementation approach (build from gix primitives)\nWorktree add:\n1. Create .git/worktrees/<name>/ directory\n2. Write .git/worktrees/<name>/gitdir with path to worktree .git file\n3. Write .git/worktrees/<name>/HEAD with target commit OID (detached)\n4. Write .git/worktrees/<name>/commondir with relative path to main .git\n5. Create worktree directory\n6. Write worktree/.git file with \"gitdir: <path to .git/worktrees/<name>>\"\n7. Populate index from target tree: State::from_tree(oid)\n8. Checkout index to worktree: gix_worktree_state::checkout(index, worktree_dir)\n\nWorktree remove:\n1. Verify worktree is clean (no uncommitted changes)\n2. Remove worktree directory\n3. Remove .git/worktrees/<name>/ admin directory\n\nWorktree list:\n1. Read .git/worktrees/ directory entries\n2. For each, read HEAD and gitdir to get worktree path and current commit\n\n# Critical: compatibility with git CLI\nWorktrees created by maw-git MUST be visible to git worktree list, and vice versa. The format is well-documented in gitworkspaces(7).\n\n# Acceptance Criteria\n- worktree_add creates a functioning worktree with checked-out files\n- git worktree list sees maw-created worktrees\n- worktree_remove cleans up completely\n- maw-git sees git-CLI-created worktrees\n- Detached HEAD mode works (maw always uses detached)\n- Error on duplicate worktree names\n- Error on non-existent target commit\n- Tests verify full round-trip: add, list, work in it, remove","kind":"task","parent":"bn-3s9y","title":"Implement worktree add/remove from gix primitives"}	blake3:AX_SZdzhuWu9-_aVVJrfN0Fuz203z6sGlayJWngkTDc
1772331334094668	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyqAc		item.create	bn-1qd5	{"description":"# Context\nStash operations (~15 calls) are used by snapshot-rebase-replay in working_copy.rs. maw uses git stash create (creates stash commit without updating refs) and git stash apply (replays changes). We build this from gix commit/tree primitives.\n\n# Implementation approach\nStash create (snapshot_working_copy):\n1. Use status() to find dirty files\n2. Read current index\n3. Create a tree from the index (staged state)\n4. Create a tree from the working directory (unstaged state)  \n5. Create stash commit: merge commit with HEAD as parent, index tree and worktree tree\n6. Return the stash commit OID (no ref update — caller manages the snapshot ref)\n\nStash apply (replay_snapshot):\n1. Read stash commit, extract the worktree tree\n2. Diff stash tree against the stash's parent tree to get changes\n3. Apply those changes to current working directory\n4. Report conflicts if any\n\n# Acceptance Criteria\n- stash_create captures staged + unstaged changes into a commit\n- stash_apply replays changes onto current state\n- Conflicts are detected and reported (not silently dropped)\n- Compatible with git stash show / git stash apply on the same commit\n- Works with the existing snapshot ref scheme (refs/manifold/recovery/*)","kind":"task","parent":"bn-3s9y","title":"Implement stash create/apply from gix primitives"}	blake3:2V80WL0F8PMtBSkA0dPrgwEVM0buaNKl8M5LB2TmxWw
1772331334269248	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyqQc		item.create	bn-294r	{"description":"# Context\nPush operations (~17 calls in push.rs) are the one area where gix high-level API is insufficient. gix focuses on fetch, not push. Options: (1) use gix-protocol directly (low-level), (2) keep git CLI for push only, (3) wait for gix to add push support.\n\n# Implementation approach\nStart with git CLI fallback wrapped in the GitRepo trait. This means push_branch() and push_tag() internally spawn git push. This is acceptable because:\n- Push is always to a remote, so subprocess overhead is negligible vs network latency\n- Only 17 calls, all in push.rs and release.rs\n- Can migrate to gix-protocol later when it stabilizes\n\n# Acceptance Criteria\n- push_branch(remote, branch) works\n- push_tag(remote, tag) works\n- Error handling wraps git stderr into proper error types\n- Force push option supported (for --advance)\n- Dry-run option supported\n- Can be replaced with gix-protocol later without trait changes","kind":"task","parent":"bn-3s9y","title":"Implement push via git CLI fallback in maw-git"}	blake3:jpVxW_qYFdR08wusltFfK2te-B0yVeqHOxmaex4jqR4
1772331334443617	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyqgc		item.create	bn-38l9	{"description":"# Context\nConfig operations (~15 calls) read and write git config values. Used in doctor, init, and workspace creation. gix can read config fully but writing is incomplete.\n\n# Implementation approach\n- Read: use gix config API (repo.config_snapshot())\n- Write: write INI directly or use git CLI fallback for the few write operations\n\n# Acceptance Criteria\n- read_config(key) returns Option<String>\n- write_config(key, value) persists correctly\n- Config scopes work (local, worktree)\n- Compatible with git config reads of same values","kind":"task","parent":"bn-3s9y","title":"Implement config read/write in maw-git"}	blake3:3zJ2fw8YTqdE0EyF_g7LXv-FldGfm2rPx6aaO9q5dcc
1772331334623443	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyqwc		item.create	bn-3b75	{"description":"# Context\nAfter all GitRepo trait methods are implemented, we need end-to-end integration tests that exercise the full workflow: create repo, create worktrees, make changes, snapshot, checkout, diff, push.\n\n# Acceptance Criteria\n- Integration test creates a repo, adds worktrees, makes changes, computes diffs, creates commits\n- All operations use maw-git trait, zero git CLI\n- Test verifies git CLI sees the same state (cross-compatibility)\n- Test covers error paths (bad OID, missing ref, dirty worktree)\n- cargo test -p maw-git passes with all tests","kind":"task","parent":"bn-3s9y","title":"maw-git integration tests: full workflow end-to-end"}	blake3:AWp1YegCm6xO3I_7DTTWzxZEId-sT9ELzWpRL3vrxEE
1772331344493903	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyrAc		item.link	bn-3vlu	{"link_type":"blocks","target":"bn-1t8o"}	blake3:x7RYKRhLIJptm8Kj7pfKFF96gG0BB-25NaoLmqlC-TQ
1772331344520192	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyrQc		item.link	bn-s2pz	{"link_type":"blocks","target":"bn-1t8o"}	blake3:FWLVTTsy5IqD8uxhjwsWcfUA6lrn1RgVCK_3r8fid8k
1772331344541039	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyrgc		item.link	bn-1zl7	{"link_type":"blocks","target":"bn-1t8o"}	blake3:J76DdK0cqJsyB4LD6YJyLguHP-Wc9Q0JNx1wjfn9F00
1772331344561416	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyrwc		item.link	bn-14mi	{"link_type":"blocks","target":"bn-1t8o"}	blake3:qZmsrur-kpAeDpEOsd2M1PJIXy52VfdbcRFBNoh2kNg
1772331344580894	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEysAc		item.link	bn-1cc1	{"link_type":"blocks","target":"bn-1t8o"}	blake3:K-nGj88Jj_MO2_4YSpBYaY-iHhaRHelnu0c5sDcv5wc
1772331344599963	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEysQc		item.link	bn-1qd5	{"link_type":"blocks","target":"bn-1t8o"}	blake3:s3_6nTv7lDMbLasIFACXpkYxR8kMcvpf9Lv4Su_AnIg
1772331344619863	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEysgc		item.link	bn-294r	{"link_type":"blocks","target":"bn-1t8o"}	blake3:AS2QWJPEqGuGEA-SF0dJVVuo0UlwvgXBksarAgk3iGY
1772331344639920	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyswc		item.link	bn-38l9	{"link_type":"blocks","target":"bn-1t8o"}	blake3:H-JaTEXektL3xqI04XYTfn47wF13SQwPNxE9ZaJo2ig
1772331344661712	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEytAc		item.link	bn-1qd5	{"link_type":"blocks","target":"bn-s2pz"}	blake3:x7eZbsiZPIoUZHZgSmfcexFbIFqwHMzI5p4hX6RPLDY
1772331344682672	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEytQc		item.link	bn-1qd5	{"link_type":"blocks","target":"bn-1zl7"}	blake3:Vbbywl0vkPXKB2o4oVJOO-47pGPsAn-EclkmOfvyxpo
1772331344705180	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEytgc		item.link	bn-1cc1	{"link_type":"blocks","target":"bn-1zl7"}	blake3:vbatvoSYVZPdsK7jjAZ3uILiDJV95MgrwLiGeHuMYh8
1772331344729246	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEytwc		item.link	bn-3b75	{"link_type":"blocks","target":"bn-3vlu"}	blake3:KW3rUEWgrKTlTDpm8DS081ASrhP9bmrLaNeNKVEc7qI
1772331344748647	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyuAc		item.link	bn-3b75	{"link_type":"blocks","target":"bn-s2pz"}	blake3:JKRdO39nqrr4sGAUtKcrzOJZrlwmNX_b60YbTHDsmY8
1772331344769015	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyuQc		item.link	bn-3b75	{"link_type":"blocks","target":"bn-1zl7"}	blake3:fRSbue5ZMh9oX156tZkVUPh_VMv0MXtlGfFp2fqw1aI
1772331344789834	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyugc		item.link	bn-3b75	{"link_type":"blocks","target":"bn-14mi"}	blake3:Jdd1TWDlxuGVAm0m0w0HpSpH3w2iBQjwKBROQCcBGi8
1772331344812018	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyuwc		item.link	bn-3b75	{"link_type":"blocks","target":"bn-1cc1"}	blake3:3qRcfhc-KH1OCQzl_k-_6XP8j6Zm-Pm1QeSCvB2WDL4
1772331344833602	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyvAc		item.link	bn-3b75	{"link_type":"blocks","target":"bn-1qd5"}	blake3:PE3KPYL1NyGX_dCkm2D0uwWKFeAJDQLYqj0gzarZ8S0
1772331344854598	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyvQc		item.link	bn-3b75	{"link_type":"blocks","target":"bn-294r"}	blake3:sqKm19TsdAbaK-OI95BzwwmHho8I4wvinIrxcciGzy0
1772331344874469	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyvgc		item.link	bn-3b75	{"link_type":"blocks","target":"bn-38l9"}	blake3:x4_4uOqeiw7_8a4VfyTreYwN5AKdilQkjDb-L4LvvAU
1772331376010177	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyvwc		item.create	bn-1snn	{"description":"# Context\nMove model/ into maw-core. This is the purest extraction -- model types have no git dependencies, only serde/sha2/etc. They define the algebraic types: PatchSet, Conflict, FileId, EpochId, WorkspaceId, GitOid, ordering, join semantics.\n\n# Key modules\n- model/types.rs: EpochId, WorkspaceId, GitOid, WorkspaceMode, etc.\n- model/patch.rs: PatchSet, FileChange types\n- model/conflict.rs: Conflict, ConflictSide, resolution types\n- model/diff.rs: compute_patchset, diff computation\n- model/ordering.rs: merge ordering, sequence generation\n- model/join.rs: PatchSet join/merge semantics\n- model/file_id.rs: deterministic file identification\n- model/layout.rs: workspace layout types\n\n# Acceptance Criteria\n- All model/ modules in crates/maw-core/src/model/\n- No git CLI calls (model is pure data)\n- cargo test -p maw-core model tests pass\n- Types re-exported from maw-core lib.rs","kind":"task","parent":"bn-10ha","title":"Move model/ into maw-core"}	blake3:KjeIk9X4aoDYspmTbama_qHBcN_LBQMTBYl7lEjbWq4
1772331376184839	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEywAc		item.create	bn-1cfe	{"description":"# Context\nMove merge/ into maw-core. The merge engine is the heart of maw -- resolve, build, collect, partition, plan, commit, validate, quarantine, ast_merge, rename. Some modules (build.rs, commit.rs) have git CLI calls that must be replaced with maw-git trait calls.\n\n# Key modules and git call counts\n- merge/resolve.rs (80.2K, 1 git call)\n- merge/build_phase.rs (62.4K, 4 calls)\n- merge/ast_merge.rs (58.0K, 0 calls)\n- merge/determinism_tests.rs (53.0K, 2 calls -- test only)\n- merge/pushout_tests.rs (50.5K, 0 calls -- test only)\n- merge/validate.rs (50.0K, 2 calls)\n- merge/quarantine.rs (46.3K, 6 calls)\n- merge/collect.rs (36.2K, 14 calls)\n- merge/build.rs (35.6K, 13 calls)\n- merge/rename.rs (35.9K, 0 calls)\n- merge/prepare.rs (28.6K, 3 calls)\n- merge/partition.rs (22.7K, 0 calls)\n- merge/plan.rs (19.3K, 0 calls)\n- merge/commit.rs (12.5K, 2 calls)\n- merge/kani_proofs.rs (30.9K, 0 calls)\n- merge/types.rs (10.3K, 0 calls)\n\nTotal: ~47 git calls to replace with maw-git trait.\n\n# Acceptance Criteria\n- All merge/ modules in crates/maw-core/src/merge/\n- Git calls replaced with maw-git trait calls\n- cargo test -p maw-core merge tests pass\n- Kani proofs still work (just kani-fast)","kind":"task","parent":"bn-10ha","title":"Move merge/ into maw-core, wire to maw-git"}	blake3:3mtbI9n8BBc_p8luySlzCLJzvoKTF6KpNGl2IXRGdsY
1772331376362387	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEywQc		item.create	bn-3ury	{"description":"# Context\nMove backend/ into maw-core. backend/git.rs is the biggest integration point -- 1891 lines, 42 git CLI calls. It implements the WorkspaceBackend trait using git worktrees. All 42 calls must be replaced with maw-git trait calls.\n\n# Key modules\n- backend/git.rs (68.2K, 42 calls) -- THE big one\n- backend/mod.rs (17.1K, trait definition)\n- backend/overlay.rs (41.6K, copy-on-write backend)\n- backend/copy.rs (16.8K, full-copy backend)\n- backend/reflink.rs (39.6K, reflink backend)\n- backend/platform.rs (17.9K, platform detection)\n\n# Approach\nbackend/git.rs methods that call git should take a &dyn GitRepo parameter (or store one). The WorkspaceBackend trait may need a constructor that accepts a GitRepo. This is the most impactful single file in the migration.\n\n# Acceptance Criteria\n- All backend/ modules in crates/maw-core/src/backend/\n- backend/git.rs uses maw-git trait for all 42 former CLI calls\n- WorkspaceBackend trait works with maw-git\n- cargo test -p maw-core backend tests pass\n- Zero Command::new(\"git\") in backend/","kind":"task","parent":"bn-10ha","title":"Move backend/ into maw-core, wire git.rs to maw-git"}	blake3:JvYkRpgE2HDHZC4k23fLvaKt3BT6tADOYYJlCvvxrWc
1772331376537287	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEywgc		item.create	bn-3pwv	{"description":"# Context\nMove oplog/, refs.rs, config.rs, merge_state.rs, epoch_gc.rs, failpoints.rs into maw-core. refs.rs has 16 git CLI calls to replace. The rest are mostly pure data or use refs.rs indirectly.\n\n# Key files and git call counts\n- refs.rs (29.0K, 16 calls) -- ref namespace management\n- oplog/ (checkpoint, read, write, view, types) -- operation logging\n- config.rs (35.6K) -- maw configuration\n- merge_state.rs (43.3K) -- merge state machine\n- epoch_gc.rs (9.0K, 13 calls) -- epoch garbage collection\n- failpoints.rs (5.2K) -- failpoint framework\n\n# Acceptance Criteria\n- All listed modules in crates/maw-core/src/\n- refs.rs uses maw-git for all 16 git calls\n- epoch_gc.rs uses maw-git for all 13 git calls\n- cargo test -p maw-core passes for these modules\n- lib.rs re-exports all public types","kind":"task","parent":"bn-10ha","title":"Move oplog, refs, config, merge_state, epoch_gc, failpoints into maw-core"}	blake3:wMcJZ3fA4rZu7U4Q9Q_QRq8pnYCoj8EOe0v5lUMnhmA
1772331520649078	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEywwc		item.link	bn-1cfe	{"link_type":"blocks","target":"bn-1snn"}	blake3:b6KOTILXJiS4tCLPxiwHLaDdgLQ8wKi-fZOLz08TROU
1772331520674930	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyxAc		item.link	bn-3ury	{"link_type":"blocks","target":"bn-1snn"}	blake3:k-I_NosVWbPC3xcB47y7BziSiTrBW3n-orICO8fVhvg
1772331520693589	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyxQc		item.link	bn-3pwv	{"link_type":"blocks","target":"bn-1snn"}	blake3:BitqwARtWxzfT1508ZSCIiLVhSPKCp5pMiFnfmJdx2Y
1772331690097353	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyxgc		item.create	bn-2hlz	{"description":"# Context & Background\nbackend/git.rs is the biggest single file (1891 lines, 42 git CLI calls) and the most critical integration point between the old Command::new(\"git\") pattern and the new maw-git trait. This task wires the backend module to use maw-git instead of shelling out.\n\n# Goals\nReplace all 42 Command::new(\"git\") calls in backend/git.rs with maw-git GitRepo trait method calls.\n\n# Implementation Approach\n- Accept GitRepo trait object (or generic) in backend constructors\n- Replace each git CLI call with the corresponding trait method:\n  - checkout calls → GitRepo::checkout_tree()\n  - status calls → GitRepo::status(), is_dirty()\n  - commit calls → GitRepo::create_commit()\n  - ref operations → GitRepo::read_ref(), write_ref()\n  - tree operations → GitRepo::read_tree(), write_tree()\n- Also wire workspace/working_copy.rs (39 calls) and workspace/capture.rs (19 calls)\n- Keep trait object threading clean -- pass through workspace constructors\n\n# Acceptance Criteria\n- [ ] Zero Command::new(\"git\") calls in backend/git.rs\n- [ ] Zero Command::new(\"git\") calls in workspace/working_copy.rs\n- [ ] Zero Command::new(\"git\") calls in workspace/capture.rs\n- [ ] All backend tests pass with maw-git\n- [ ] cargo test -p maw-core passes\n\n# How This Serves Project Goals\nThis is the highest-value conversion in the entire migration -- 100+ git CLI calls replaced in the core backend, eliminating subprocess overhead and environmental fragility for the most performance-critical code paths.","kind":"task","parent":"bn-10ha","title":"Wire backend/git.rs, working_copy.rs, capture.rs to maw-git"}	blake3:DeWLb5R7xvRlbIStDA62SamuelGehIu-FQtVFchn9D4
1772331691436518	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyxwc		item.create	bn-2mep	{"description":"# Context & Background\nrefs.rs manages the Manifold ref namespace (refs/manifold/epoch/*, workspace refs, snapshot refs). It has 16 Command::new(\"git\") calls for ref reads, writes, and atomic multi-updates.\n\n# Goals\nReplace all 16 git CLI calls in refs.rs with maw-git GitRepo trait methods.\n\n# Implementation Approach\n- Accept GitRepo trait object in refs module functions\n- Replace git rev-parse calls with GitRepo::rev_parse()\n- Replace git update-ref calls with GitRepo::write_ref() and atomic_ref_update()\n- Replace git for-each-ref calls with GitRepo::read_ref() / list operations\n- epoch_gc.rs (13 calls) should also be wired here since it operates on refs\n\n# Acceptance Criteria\n- [ ] Zero Command::new(\"git\") in refs.rs\n- [ ] Zero Command::new(\"git\") in epoch_gc.rs\n- [ ] Atomic ref updates use GitRepo::atomic_ref_update()\n- [ ] cargo test -p maw-core passes\n\n# How This Serves Project Goals\nrefs.rs is the namespace management layer -- correctness here is critical for Manifold's epoch model. Moving to gix gives us proper typed OIDs and atomic ref transactions instead of string parsing.","kind":"task","parent":"bn-10ha","title":"Wire refs.rs and epoch_gc.rs to maw-git"}	blake3:xZ2S6fBzaSsuwjcaRbwXaRsDvr-tVB610p7boUVjea0
1772331693269274	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyyAc		item.create	bn-11e8	{"description":"# Context & Background\nmain.rs is the entry point for the maw binary. It sets up clap argument parsing, initializes logging/telemetry, and dispatches to subcommand handlers. Moving it to maw-cli is the first step in extracting the CLI layer.\n\n# Goals\nCreate crates/maw-cli with main.rs, establish the binary crate structure, wire dependencies on maw-core and maw-git.\n\n# Implementation Approach\n- Create crates/maw-cli/Cargo.toml with [[bin]] name = \"maw\"\n- Move main.rs to maw-cli\n- Move error.rs (user-facing error display) and format.rs (json/text/pretty output)\n- Update all imports from `use maw::` to `use maw_core::` (or whatever the lib crate re-exports)\n- Wire clap CLI dispatching to call into maw-core functions\n- The workspace root Cargo.toml already has [[bin]] that needs to move here\n\n# Acceptance Criteria\n- [ ] crates/maw-cli/src/main.rs compiles and runs\n- [ ] `cargo build -p maw-cli` produces the `maw` binary\n- [ ] maw --version works\n- [ ] maw --help shows all subcommands\n- [ ] format.rs and error.rs are in maw-cli\n\n# How This Serves Project Goals\nThis establishes the binary crate boundary. Once main.rs is in maw-cli, all other CLI modules follow naturally.","kind":"task","parent":"bn-2o5g","title":"Create maw-cli crate with main.rs, clap dispatch, format, error"}	blake3:7zgol2uzN6ZdBCCoJ_XYxt-x2frxmv_fm9oWcaavrSQ
1772331694882514	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyyQc		item.create	bn-6zjw	{"description":"# Context & Background\nThe workspace/ directory (25 files, ~15k lines) contains all workspace subcommands: create, destroy, merge, sync, advance, recover, status, diff, overlap, history, undo, list, clean, restore, etc. This is the largest module moving to maw-cli.\n\n# Goals\nMove the entire workspace/ directory to maw-cli, updating all imports to reference maw-core for domain types and maw-git for git operations.\n\n# Implementation Approach\n- Move workspace/ directory to crates/maw-cli/src/workspace/\n- Update imports: model types from maw-core, git operations from maw-git\n- workspace/merge.rs (4156 lines) is the biggest file -- it orchestrates the merge flow using maw-core's merge engine\n- Many workspace commands have git CLI calls that should already be gone after Phase 2 (backend/working_copy/capture wired to maw-git)\n- Remaining git CLI calls in workspace commands should be replaced with maw-git trait calls\n- Wire workspace module into maw-cli's clap dispatch\n\n# Acceptance Criteria\n- [ ] All 25 workspace/*.rs files in maw-cli\n- [ ] All workspace subcommands work (create, destroy, merge, sync, etc.)\n- [ ] Zero Command::new(\"git\") in workspace/ (all via maw-git)\n- [ ] cargo test passes for workspace-related tests\n\n# How This Serves Project Goals\nThe workspace module is the largest single chunk of CLI code. Moving it cleanly is the highest-effort subtask of Phase 3, but it's mostly mechanical import changes.","kind":"task","parent":"bn-2o5g","title":"Move workspace/ module (25 files) to maw-cli"}	blake3:nz6kRzeW625VEVY-_Iu2jMhxTReY1QEQDT9HnflM3WY
1772331696215470	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyygc		item.create	bn-b74f	{"description":"# Context & Background\npush.rs (17 git CLI calls) handles pushing the configured branch to remote. release.rs (9 git CLI calls) handles tagging releases. transport.rs (23 git CLI calls) is the underlying git transport layer used by both.\n\n# Goals\nMove push.rs, release.rs, and transport.rs to maw-cli. Replace git CLI calls with maw-git where possible (push stays as CLI fallback per plan).\n\n# Implementation Approach\n- Move push.rs, release.rs, transport.rs to crates/maw-cli/src/\n- transport.rs wraps git push/fetch -- keep as CLI fallback (maw-git's push is via CLI anyway)\n- Wire push.rs to use maw-git's push() method (which internally uses CLI)\n- release.rs tags: use maw-git for tag creation if possible, otherwise keep CLI\n- Update imports to maw-core for config types\n\n# Acceptance Criteria\n- [ ] push.rs, release.rs, transport.rs in maw-cli\n- [ ] maw push works\n- [ ] maw release vX.Y.Z works\n- [ ] Push operations use maw-git's push() method\n\n# How This Serves Project Goals\nIsolates the \"push to remote\" surface area into maw-cli where it belongs. Push is the one operation that stays as CLI even in Phase 6.","kind":"task","parent":"bn-2o5g","title":"Move push.rs, release.rs, transport.rs to maw-cli"}	blake3:NEFB8DhmUkc5r3vBGrQfEy6OHD_uEVIEfZDFnCm06bk
1772331697608308	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyywc		item.create	bn-136o	{"description":"# Context & Background\nv2_init.rs (2572 lines, 57 git CLI calls) handles initialization and repair of Manifold repo state. doctor.rs (4 git CLI calls) validates repo/tool health. upgrade.rs (6 git CLI calls) handles migration between maw versions. These are CLI-facing operational commands.\n\n# Goals\nMove v2_init.rs, doctor.rs, upgrade.rs to maw-cli and replace their git CLI calls with maw-git.\n\n# Implementation Approach\n- Move to crates/maw-cli/src/\n- v2_init.rs has the most git CLI calls (57) of any file in the project -- many are for setting up git config, creating initial commits, worktree setup\n  - git init/config calls → maw-git or keep as init-only CLI (runs once)\n  - git commit/add calls → maw-git create_commit, write_tree, update_index\n  - git worktree calls → maw-git worktree_add\n  - git symbolic-ref/update-ref → maw-git write_ref\n- doctor.rs: 4 calls for health checks (git status, rev-parse) → maw-git\n- upgrade.rs: 6 calls for migration operations → maw-git\n- Some v2_init.rs calls may stay as CLI if they're one-time setup that doesn't benefit from gix\n\n# Acceptance Criteria\n- [ ] v2_init.rs, doctor.rs, upgrade.rs in maw-cli\n- [ ] maw init works (creates valid Manifold repo)\n- [ ] maw doctor works (validates repo health)\n- [ ] Remaining git CLI calls documented and justified (init-only bootstrap)\n\n# How This Serves Project Goals\nv2_init.rs is the single biggest concentration of git CLI calls. Converting it is high-value even if some bootstrap calls remain as CLI.","kind":"task","parent":"bn-2o5g","title":"Move v2_init.rs, doctor.rs, upgrade.rs to maw-cli"}	blake3:ry-K-SkukQ3HtVNXqBpvLlLmRgWaK44x_3bUIggAc6g
1772331698570642	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyzAc		item.create	bn-17pr	{"description":"# Context & Background\nSeveral smaller CLI-facing modules need to move to maw-cli: status.rs (1 git call, top-level status display), exec.rs (command execution in workspaces), agents.rs (AGENTS.md scaffolding), telemetry.rs (OpenTelemetry setup), audit.rs, epoch.rs (epoch CLI commands), merge_cmd.rs (merge CLI entry point).\n\n# Goals\nMove all remaining CLI-facing modules to maw-cli to complete the extraction.\n\n# Implementation Approach\n- Move status.rs, exec.rs, agents.rs, telemetry.rs, audit.rs, epoch.rs, merge_cmd.rs to maw-cli\n- Update imports to reference maw-core for domain types\n- status.rs has 1 git CLI call → replace with maw-git\n- exec.rs doesn't use git directly (runs user commands in workspace dirs)\n- agents.rs is pure file I/O (AGENTS.md generation)\n- telemetry.rs is infrastructure (OpenTelemetry setup)\n- Wire all into clap dispatch in main.rs\n\n# Acceptance Criteria\n- [ ] All listed modules in maw-cli\n- [ ] No source files remain in old crate location (only maw-core lib modules)\n- [ ] cargo test passes\n- [ ] All maw subcommands work\n\n# How This Serves Project Goals\nCompletes the CLI extraction. After this, the old single-crate src/ only contains lib.rs re-exports -- it's effectively empty and can be removed.","kind":"task","parent":"bn-2o5g","title":"Move remaining CLI modules to maw-cli"}	blake3:n8Egmujv4ibSYK_SM_uVJ7RKvkCZIBi8fE86F4qOFOs
1772331699448598	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyzQc		item.create	bn-32ne	{"description":"# Context & Background\nPhase 3 is the biggest move in the crate split (all CLI-facing code). After all subtasks complete, need comprehensive verification that nothing broke.\n\n# Goals\nVerify the complete maw-cli extraction works end-to-end.\n\n# Implementation Approach\n- cargo test (all workspace tests pass)\n- cargo build --release (release binary builds)\n- just install (installs maw binary)\n- maw --version (binary runs)\n- Run through core workflow: maw init, maw ws create, maw ws list, maw ws merge, maw push (dry-run)\n- Verify no modules accidentally left behind in old location\n- Verify Justfile targets still work\n\n# Acceptance Criteria\n- [ ] cargo test passes (no regressions)\n- [ ] cargo build --release succeeds\n- [ ] just install succeeds\n- [ ] maw --version shows correct version\n- [ ] All maw subcommands functional\n- [ ] just check passes (test + dst-fast + contract-drift)\n\n# How This Serves Project Goals\nPhase 3 is the riskiest phase (most code moves). Thorough verification ensures no regressions before proceeding to the smaller Phase 4/5 extractions.","kind":"task","parent":"bn-2o5g","title":"Phase 3 end-to-end verification"}	blake3:tETMhkXyk6QkwOKiQ0Sx_tzvzqY8nKQdLOR7nAE8xhY
1772331704006913	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyzgc		item.create	bn-vsu4	{"description":"# Context & Background\nThe tui/ directory (5 files: app.rs, event.rs, theme.rs, ui.rs, mod.rs) contains the ratatui-based terminal UI. It's a small, self-contained module that depends on maw-core for status/model types but has no git operations.\n\n# Goals\nMove tui/ to its own crate (maw-tui) and feature-gate it in maw-cli.\n\n# Implementation Approach\n- Create crates/maw-tui/Cargo.toml with ratatui, crossterm dependencies\n- Move tui/ directory to crates/maw-tui/src/\n- Add maw-core dependency for status types, model types\n- In maw-cli: add maw-tui as optional dependency behind \"tui\" feature\n- Conditionally compile TUI launch code in maw-cli\n- If TUI feature is off, maw-cli doesn't pull in ratatui/crossterm\n\n# Acceptance Criteria\n- [ ] crates/maw-tui/ exists with all 5 TUI files\n- [ ] cargo test -p maw-tui passes\n- [ ] TUI launches and displays correctly\n- [ ] maw-cli builds without TUI feature (smaller binary)\n- [ ] maw-cli builds with TUI feature (full binary)\n\n# How This Serves Project Goals\nSmall, low-risk extraction. Makes TUI optional, reducing binary size for users who don't need it. Demonstrates the crate split pattern works for the remaining modules.","kind":"task","parent":"bn-1w40","title":"Move tui/ to maw-tui crate with feature gate"}	blake3:ydgOf4g3pal7yHUTdibYJJg3BmE8Qpfb1VVbIpGT3kk
1772331705383522	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyzwc		item.create	bn-12lp	{"description":"# Context & Background\nThe assurance/ module contains the DST oracle (invariant checkers for G1-G6), trace logger, and simulation model. The DST harness (tests/dst_harness.rs) runs seeded traces. These are dev/test-only and should not be in the published crates.\n\n# Goals\nMove assurance/ module and DST harness to maw-assurance crate.\n\n# Implementation Approach\n- Create crates/maw-assurance/Cargo.toml\n- Move src/assurance/ (oracle.rs, trace.rs, model.rs, mod.rs) to crates/maw-assurance/src/\n- Move tests/dst_harness.rs to crates/maw-assurance/tests/\n- Add maw-core and maw-git as dependencies\n- Update oracle to import types from maw-core instead of crate-local\n- Keep feature gate: #[cfg(feature = \"assurance\")] moves to maw-assurance's own features\n\n# Acceptance Criteria\n- [ ] crates/maw-assurance/ exists\n- [ ] just dst-fast passes (DST traces run against oracle)\n- [ ] Oracle checks G1-G6 invariants correctly\n- [ ] No assurance code in maw-core or maw-cli\n\n# How This Serves Project Goals\nIsolates test infrastructure from published crates. Users installing maw-workspaces from crates.io don't pull in DST/oracle code.","kind":"task","parent":"bn-sd3t","title":"Move assurance/ and DST harness to maw-assurance"}	blake3:ZPiRGkgTJmjShPv71D7gS-iMT2GnqZB8kgavAlj_4LI
1772331706747306	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEy0Ac		item.create	bn-3hrs	{"description":"# Context & Background\nThe formal verification infrastructure includes: tests/formal_model.rs (Stateright state machine model checking), src/merge/kani_proofs.rs (Kani bounded model checking harnesses). These verify the merge protocol and algebra.\n\n# Goals\nMove formal model and Kani proofs to maw-assurance crate.\n\n# Implementation Approach\n- Move tests/formal_model.rs to crates/maw-assurance/tests/\n- Move src/merge/kani_proofs.rs to crates/maw-assurance/src/kani_proofs.rs\n  - This may need to stay in maw-core if Kani harnesses need direct access to private merge internals\n  - Alternative: make relevant merge internals pub(crate) or pub and import from maw-assurance\n- Update Stateright model to import protocol types from maw-core\n- Kani harnesses verify classify_shared_path and resolve_entries -- these types must be accessible\n\n# Acceptance Criteria\n- [ ] just formal-check passes (Stateright model)\n- [ ] just kani-fast passes (Kani proofs)\n- [ ] No formal verification code in maw-core except what Kani requires (pub test harnesses)\n\n# How This Serves Project Goals\nKeeps heavy verification tooling (Stateright, Kani) out of the published crate while maintaining all verification guarantees.","kind":"task","parent":"bn-sd3t","title":"Move formal model and Kani proofs to maw-assurance"}	blake3:4_s3MNeM4XzCzmN3jYrS02WNC5PwvS82ilNIHRDXoJw
1772331707744502	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEy0Qc		item.create	bn-1zhm	{"description":"# Context & Background\nAfter extracting maw-assurance, need to verify all assurance gates still pass. This is critical because moving test infrastructure can break subtle harness dependencies.\n\n# Goals\nVerify all assurance CI gates pass after extraction.\n\n# Implementation Approach\n- just dst-fast (256 seeded DST traces)\n- just formal-check (Stateright model checking)\n- just kani-fast (Kani bounded proofs)\n- just contract-drift (doc/code consistency)\n- Verify Justfile targets point to correct crate/test locations\n- Update any CI workflows that reference old test paths\n\n# Acceptance Criteria\n- [ ] just dst-fast passes\n- [ ] just formal-check passes\n- [ ] just kani-fast passes\n- [ ] just contract-drift passes\n- [ ] just check passes (all gates combined)\n\n# How This Serves Project Goals\nAssurance is the project's safety net. If any gate breaks during the split, we've introduced a regression. This verification task ensures that doesn't happen.","kind":"task","parent":"bn-sd3t","title":"Verify all assurance gates pass after extraction"}	blake3:0t9zm-0FCE_-_jyapiJsqw9ptAjB4NXNmCCtsc9DwLg
1772331708889277	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEy0gc		item.create	bn-16w3	{"description":"# Context & Background\nAfter Phases 2-5, most git CLI calls should already be replaced. This task audits all crates for any remaining Command::new(\"git\") calls and catalogs them.\n\n# Goals\nProduce a complete inventory of remaining git CLI calls across all crates, with disposition for each (replace, keep, or document).\n\n# Implementation Approach\n- grep -r 'Command::new(\"git\")' across all crates/\n- For each hit: determine if it can be replaced with maw-git, or if it's a justified exception\n- Justified exceptions: git push (until gix-protocol matures), any one-time bootstrap operations\n- Produce a checklist of calls to replace and calls to keep\n\n# Acceptance Criteria\n- [ ] Complete inventory of all remaining Command::new(\"git\") calls\n- [ ] Each call categorized: replace, keep-with-justification, or already-replaced\n- [ ] No surprise git CLI calls in maw-core (should be zero)\n\n# How This Serves Project Goals\nEnsures we have a clear picture of what's left before the final elimination pass. Prevents whack-a-mole where new CLI calls sneak in.","kind":"task","parent":"bn-3avu","title":"Audit all crates for remaining Command::new(\"git\") calls"}	blake3:cJKER7iUZ2qQokXpoHdST5pab_0jFkW-gmeUo8j2ZFQ
1772331709815757	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEy0wc		item.create	bn-2fqf	{"description":"# Context & Background\nAfter the audit, this task replaces all Command::new(\"git\") calls that were categorized as \"replace\". The goal is zero git CLI calls except the intentional push fallback.\n\n# Goals\nReplace all non-push git CLI calls with maw-git trait calls.\n\n# Implementation Approach\n- Work through the audit checklist\n- For each \"replace\" item: swap Command::new(\"git\") with the appropriate GitRepo trait method\n- Common patterns:\n  - git rev-parse → GitRepo::rev_parse()\n  - git update-ref → GitRepo::write_ref() / atomic_ref_update()\n  - git show / cat-file → GitRepo::read_blob() / read_tree()\n  - git status → GitRepo::status()\n  - git checkout → GitRepo::checkout_tree()\n- Some calls may need new methods on the GitRepo trait (add them to maw-git)\n- Run tests after each batch of replacements\n\n# Acceptance Criteria\n- [ ] grep -r 'Command::new(\"git\")' crates/ shows only push-related calls\n- [ ] All tests pass\n- [ ] No new trait methods needed that weren't already designed\n- [ ] just check passes\n\n# How This Serves Project Goals\nThis is the payoff of the entire migration: pure-Rust git operations throughout maw. No more subprocess overhead, environment fragility, or stringly-typed error handling (except for push).","kind":"task","parent":"bn-3avu","title":"Replace all non-push git CLI calls with maw-git"}	blake3:dvD0rFOzCCy3imUjoe_dnBpxqpp0DYyYJk5PCmwu1mI
1772331710967176	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEy1Ac		item.create	bn-1ekm	{"description":"# Context & Background\nPush is the one git operation without a high-level gix API. The plan says to keep it as CLI initially. This task evaluates whether to migrate push to gix-protocol or keep the CLI fallback permanently.\n\n# Goals\nMake and document the decision on push: gix-protocol migration or permanent CLI fallback.\n\n# Implementation Approach\n- Evaluate gix-protocol maturity at the time of this task\n- Consider: how many push calls remain? (likely ~17 in transport.rs)\n- Consider: does keeping CLI for push only create meaningful friction?\n- If gix-protocol is ready: migrate push to pure-Rust\n- If not: document the CLI fallback as intentional, add a note to maw-git trait\n- Either way: ensure the push path is cleanly isolated in maw-git\n\n# Acceptance Criteria\n- [ ] Decision documented in maw-git README or code comments\n- [ ] If migrated: zero Command::new(\"git\") anywhere in codebase\n- [ ] If kept: push CLI calls isolated to maw-git's push() implementation only\n\n# How This Serves Project Goals\nPush is the last frontier. Either we get to zero CLI calls (ideal) or we have one well-documented, well-isolated exception (acceptable).","kind":"task","parent":"bn-3avu","title":"Decide: migrate push to gix-protocol or keep CLI fallback"}	blake3:uxolxHhXzhxWN2S518VsPcgTv463PmWhFLWjwvR0ak0
1772331712143751	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEy1Qc		item.create	bn-1kcc	{"description":"# Context & Background\nBefore publishing library crates, the workspace needs consistent versioning. Currently maw-workspaces is 0.49.0. The new library crates (maw-git, maw-core) need their own version strategy.\n\n# Goals\nEstablish version alignment across the Cargo workspace and prepare crate metadata for publishing.\n\n# Implementation Approach\n- Decide version strategy: all crates share one version, or independent versioning\n  - Recommendation: start with shared version (simpler), allow independent later\n- Set workspace.package.version in root Cargo.toml\n- Each crate inherits version via version.workspace = true\n- Update Cargo.toml metadata for each publishable crate:\n  - maw-git: description, repository, license, keywords, categories\n  - maw-core: description, repository, license, keywords, categories\n- Add publish = false to non-publishable crates (maw-assurance)\n- Ensure dependency versions between workspace crates are correct\n\n# Acceptance Criteria\n- [ ] All crates have consistent, valid version numbers\n- [ ] Publishable crates have complete metadata (description, license, repository)\n- [ ] maw-assurance has publish = false\n- [ ] cargo publish --dry-run -p maw-git succeeds\n- [ ] cargo publish --dry-run -p maw-core succeeds\n\n# How This Serves Project Goals\nClean metadata and versioning is required for crates.io publishing. Getting this right prevents failed publishes and version confusion.","kind":"task","parent":"bn-2g73","title":"Establish workspace version alignment and crate metadata"}	blake3:IrtRNHYVeV_UB-ZqRBg-Ff7cuf7-AmY3XXnqBrgj1II
1772331713069939	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEy1gc		item.create	bn-2fv3	{"description":"# Context & Background\nmaw-git and maw-core are the library crates that other projects can depend on. Publishing them to crates.io makes the maw merge engine and git abstraction available as a library.\n\n# Goals\nPublish maw-git and maw-core to crates.io.\n\n# Implementation Approach\n- Publish order matters: maw-git first (no maw dependencies), then maw-core (depends on maw-git)\n- First publish is manual (CARGO_REGISTRY_TOKEN is update-only on GitHub)\n- cargo publish -p maw-git\n- Wait for maw-git to be available on crates.io\n- cargo publish -p maw-core\n- Update maw-workspaces (maw-cli) to depend on published versions\n- Update CI publish workflow to publish all crates in order\n\n# Acceptance Criteria\n- [ ] maw-git published on crates.io\n- [ ] maw-core published on crates.io\n- [ ] cargo install maw-workspaces still works (depends on published maw-git, maw-core)\n- [ ] CI workflow publishes all crates on tag push\n\n# How This Serves Project Goals\nThis is the ultimate goal: a publishable library crate that other projects can use for git operations (maw-git) and merge engine (maw-core), independent of the CLI.","kind":"task","parent":"bn-2g73","title":"Publish maw-git and maw-core to crates.io"}	blake3:PFIpDxKxQwkSXfe3XWt9sIyuLDNcEZ8AomivdlqeVgY
1772331714034232	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEy1wc		item.create	bn-3cck	{"description":"# Context & Background\nAfter publishing library crates, the maw-workspaces CLI crate needs to be updated to depend on the published versions rather than path dependencies (or use both with version + path).\n\n# Goals\nUpdate maw-workspaces to reference published crates and verify the full install path works.\n\n# Implementation Approach\n- Update maw-cli/Cargo.toml to use version dependencies alongside path:\n  maw-git = { version = \"0.X.0\", path = \"../maw-git\" }\n  maw-core = { version = \"0.X.0\", path = \"../maw-core\" }\n- This allows local development (path) while crates.io install uses published versions\n- Verify: cargo install maw-workspaces (from crates.io, not local)\n- Update README install instructions if needed\n- Tag and publish updated maw-workspaces\n\n# Acceptance Criteria\n- [ ] maw-workspaces depends on published maw-git and maw-core versions\n- [ ] cargo install maw-workspaces works from crates.io\n- [ ] Local development still works (path deps override)\n- [ ] README install instructions current\n\n# How This Serves Project Goals\nCompletes the publishing pipeline. Users can install maw from crates.io, and the library crates are independently usable.","kind":"task","parent":"bn-2g73","title":"Update maw-workspaces to depend on published crates"}	blake3:w0lLsLZ5UVt5D9RR4xrtANSeAzDSe-PxsViTYyWMFhY
1772331720637364	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEy2Ac		item.link	bn-2hlz	{"link_type":"blocks","target":"bn-1snn"}	blake3:a727GRap93QxdrcAoSbzjeSCMITiHjFCoNRiAKoHwH4
1772331720663537	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEy2Qc		item.link	bn-2mep	{"link_type":"blocks","target":"bn-1snn"}	blake3:5AcM0tHFIyxS4aeY5KA3TZXR1B0_pJ7FjL-0-H4BQZU
1772331720685511	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEy2gc		item.link	bn-2hlz	{"link_type":"blocks","target":"bn-1cfe"}	blake3:XZM87hEnS_09v0WX_o7w3hKLOKq3bm0Z-CQ7aOl-Bp8
1772331720707079	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEy2wc		item.link	bn-2hlz	{"link_type":"blocks","target":"bn-3pwv"}	blake3:0dtk4t0u6fkOaqVvkrInMrMmwYO_pVBObouhJcoX14g
1772331723032000	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEy3Ac		item.link	bn-6zjw	{"link_type":"blocks","target":"bn-11e8"}	blake3:6pQAtNLyy5VIvxqqMt3pMhlfYZ834JSMhd5Yc4124jk
1772331723058658	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEy3Qc		item.link	bn-b74f	{"link_type":"blocks","target":"bn-11e8"}	blake3:sf6t2Lg16qsTcnuD3KKaqLtBPcawEOGKG3p1lEBMNDY
1772331723080020	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEy3gc		item.link	bn-136o	{"link_type":"blocks","target":"bn-11e8"}	blake3:9bIBWp3M92hURoJoXPUnd45XGSD82Q_8OrbqBj77wsY
1772331723100139	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEy3wc		item.link	bn-17pr	{"link_type":"blocks","target":"bn-11e8"}	blake3:q9vD1SpfpJp1sl7v3cJBYKqEDBu4MIW1jUIb7DrMwdY
1772331724706566	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEy4Ac		item.link	bn-32ne	{"link_type":"blocks","target":"bn-6zjw"}	blake3:H_EMyGoV6dzbxtG5dyorT4v9mfbof_HpclDabfOp7oU
1772331724732935	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEy4Qc		item.link	bn-32ne	{"link_type":"blocks","target":"bn-b74f"}	blake3:abUni5vEXbBvDs1u9rwXQtUoe1dBuVqKsAygvrY8lA0
1772331724754680	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEy4gc		item.link	bn-32ne	{"link_type":"blocks","target":"bn-136o"}	blake3:wt2LerAW_6ZQcBCpk78acHD-hgEJQCn9B0tIZAJlLs4
1772331724774351	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEy4wc		item.link	bn-32ne	{"link_type":"blocks","target":"bn-17pr"}	blake3:Ou8EK9x6qzbKePO_ADpc8Q82mluHA-g48VGohcrNkOo
1772331726351255	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEy5Ac		item.link	bn-1zhm	{"link_type":"blocks","target":"bn-12lp"}	blake3:Lvt14A6YVMxZbPlJvyYnW7UVSzP0hupT6ruVtMvXGvw
1772331726377946	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEy5Qc		item.link	bn-1zhm	{"link_type":"blocks","target":"bn-3hrs"}	blake3:dWYNWhSqlaugau-w_RmraOXTpp1IkLEWIISOQWwIIZY
1772331728725173	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEy5gc		item.link	bn-2fqf	{"link_type":"blocks","target":"bn-16w3"}	blake3:453M3waqZtnvo5tIv2DiGV4uieSaBG1YLWo_h2TtkG8
1772331728752087	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEy5wc		item.link	bn-1ekm	{"link_type":"blocks","target":"bn-2fqf"}	blake3:BXt2a_XYX4wSOXqjLfj3yKLaE4e1TTOrieQ1s_r3-BQ
1772331729222540	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEy6Ac		item.link	bn-2fv3	{"link_type":"blocks","target":"bn-1kcc"}	blake3:fWtXB05aj6RABOSLMkYTplBaYVAfjoUu2rzm5Zb7VjM
1772331729243354	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEy6Qc		item.link	bn-3cck	{"link_type":"blocks","target":"bn-2fv3"}	blake3:0TAEvqL-LxCFMnBOKhA7yNkb_jLlVVnf120dBvLHR6g
1772331739059624	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEy6gc		item.update	bn-36ud	{"field":"labels","value":{"action":"add","label":"gix-migration"}}	blake3:9L5gL74MmU6KGrR9k91vcwxqMdqhmLv35sTtXvvRsKA
1772331739081141	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEy6wc		item.update	bn-3s9y	{"field":"labels","value":{"action":"add","label":"gix-migration"}}	blake3:s1SYXNxGZJLKLEcdqHtiAagTQTGy0hIFY7fZcOvoPe8
1772331739102390	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEy7Ac		item.update	bn-10ha	{"field":"labels","value":{"action":"add","label":"gix-migration"}}	blake3:Ue34xKPE89l4lc-Vjj-Wqh5tA0GEX8dldMLmDMscraM
1772331739122705	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEy7Qc		item.update	bn-2o5g	{"field":"labels","value":{"action":"add","label":"gix-migration"}}	blake3:3JZgTWPzNi1Hhn_naK26iuKB1oUQEpj6vAHJmS0zBcU
1772331739143079	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEy7gc		item.update	bn-1w40	{"field":"labels","value":{"action":"add","label":"gix-migration"}}	blake3:vjCwLQrAOAPemlEpcaoXmruJU-Us2Ey9wQYG2CfmPIc
1772331739163638	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEy7wc		item.update	bn-sd3t	{"field":"labels","value":{"action":"add","label":"gix-migration"}}	blake3:Sp0aBa3qJerSohiWSK8RBr-Jbc7IeA75a7oxZ3QU9Dw
1772331739183708	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEy8Ac		item.update	bn-3avu	{"field":"labels","value":{"action":"add","label":"gix-migration"}}	blake3:iFuZyr0pCKObDP_Bd5I2L-HX73EEsMoSFJtdluU6UFQ
1772331739203752	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEy8Qc		item.update	bn-2g73	{"field":"labels","value":{"action":"add","label":"gix-migration"}}	blake3:9EYXd1sMgF0vm7LDDY41Bgthf6EzEqdCwGkH-e445tA
1772331739223612	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEy8gc		item.update	bn-1t8o	{"field":"labels","value":{"action":"add","label":"gix-migration"}}	blake3:oDr4aC4Q5Vy4Es3Q7AfhPWAttDXaE5rZHvYOx4Su1tE
1772331739243009	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEy8wc		item.update	bn-3vlu	{"field":"labels","value":{"action":"add","label":"gix-migration"}}	blake3:An5Fv9SQd5Vg646ioVK53c8_aAt-kYxvcvrG2FgFoM0
1772331739262188	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEy9Ac		item.update	bn-s2pz	{"field":"labels","value":{"action":"add","label":"gix-migration"}}	blake3:xPL2f-AZnaPksqAJdSUXMpmgBOy87hhOWYZC-YXG8Es
1772331739281879	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEy9Qc		item.update	bn-1zl7	{"field":"labels","value":{"action":"add","label":"gix-migration"}}	blake3:ibBenXuHlig80wGqbvl1wp3uJ4wUZGVcK8-5PS30k08
1772331739302682	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEy9gc		item.update	bn-14mi	{"field":"labels","value":{"action":"add","label":"gix-migration"}}	blake3:dAJGTnBvoQeR4M1RUe_9W_4w6mG9ZDe_rL6GvSsSP50
1772331739323311	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEy9wc		item.update	bn-1cc1	{"field":"labels","value":{"action":"add","label":"gix-migration"}}	blake3:4UknYFL8me1SapQXx2oIDe5EJgNJMTM25OWkjXQaCQs
1772331739342994	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEy-Ac		item.update	bn-1qd5	{"field":"labels","value":{"action":"add","label":"gix-migration"}}	blake3:p2vahnjLiUT0fX694MDAwflLFSY8XO0CQSxTqIaz1og
1772331739363016	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEy-Qc		item.update	bn-294r	{"field":"labels","value":{"action":"add","label":"gix-migration"}}	blake3:aNM-o22GF5gACLjTw24m8aTVUXxgNk_mrrjKpg2TIyE
1772331739388250	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEy-gc		item.update	bn-38l9	{"field":"labels","value":{"action":"add","label":"gix-migration"}}	blake3:2t2zucorcfMOuPdIYi1lqVxloaIPkSLYCl-YcgxiTzs
1772331739409605	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEy-wc		item.update	bn-3b75	{"field":"labels","value":{"action":"add","label":"gix-migration"}}	blake3:uesRuhY87FRhtdXi5q0yb92zL1Y_OElqExmRrZvYvgg
1772331739429827	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEy_Ac		item.update	bn-1snn	{"field":"labels","value":{"action":"add","label":"gix-migration"}}	blake3:D9tRs_YThyQMMbBSum0Hm16-2BFJ3VyKTVo6x5TgBkM
1772331739449614	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEy_Qc		item.update	bn-1cfe	{"field":"labels","value":{"action":"add","label":"gix-migration"}}	blake3:Ei0vJnEMgPvSIHr0Mp2DK9PAcGj2honaLD6Z5AtAUtg
1772331739471910	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEy_gc		item.update	bn-3ury	{"field":"labels","value":{"action":"add","label":"gix-migration"}}	blake3:TvvWOJ9WkkIuW5z_YP5BNcCWE3J3EYxa3ePeiIIZWxU
1772331739491940	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEy_wc		item.update	bn-3pwv	{"field":"labels","value":{"action":"add","label":"gix-migration"}}	blake3:FRzVUJap_DMc5vjYyLdHAt26j5ORvI3vGTfcw9Xf7Xw
1772331739511535	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEygAg		item.update	bn-2hlz	{"field":"labels","value":{"action":"add","label":"gix-migration"}}	blake3:y3MmWZHE9OKw0KZoSZ2Ke4mciUqrsdLhaUz7mtgG2m8
1772331739531800	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEygQg		item.update	bn-2mep	{"field":"labels","value":{"action":"add","label":"gix-migration"}}	blake3:aOrnZzFjlbEyQyYeqvQNTlqR46cgD8azmHGrJtnUpA8
1772331739554997	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyggg		item.update	bn-11e8	{"field":"labels","value":{"action":"add","label":"gix-migration"}}	blake3:dwLwyPZF4654Ndf0rTrLJ-eem6juYB_-n_n-YRtPRqc
1772331739574893	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEygwg		item.update	bn-6zjw	{"field":"labels","value":{"action":"add","label":"gix-migration"}}	blake3:crU4gTxEFsBaxJL42_3CWPKYnSIXSaaNvmmLHmOAIRI
1772331739594976	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyhAg		item.update	bn-b74f	{"field":"labels","value":{"action":"add","label":"gix-migration"}}	blake3:xBpyjEzL0GK5KaCt8ra193YPryrrnjOcnoL8rkgJmYU
1772331739614626	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyhQg		item.update	bn-136o	{"field":"labels","value":{"action":"add","label":"gix-migration"}}	blake3:KHN8aSEREb6motGDcozjurP-wuRfoX2fMRLMYhLfEzE
1772331739635044	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyhgg		item.update	bn-17pr	{"field":"labels","value":{"action":"add","label":"gix-migration"}}	blake3:qpTfx1Eb6xWALM_KHBZisJX1egO8iAbt03GW1UjGk1U
1772331739654488	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyhwg		item.update	bn-32ne	{"field":"labels","value":{"action":"add","label":"gix-migration"}}	blake3:htGUzNBkFq4aJ5hFdtWdaZzuhTX8VdmZFjY9k08Sjb4
1772331739674207	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyiAg		item.update	bn-vsu4	{"field":"labels","value":{"action":"add","label":"gix-migration"}}	blake3:9azdkfkFbng19Onm9WCerGLFplavaOv76pCwRpJi_70
1772331739693958	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyiQg		item.update	bn-12lp	{"field":"labels","value":{"action":"add","label":"gix-migration"}}	blake3:08LyDyhCHa4g20lGkm9M1uEEpIH7Sx7Ml8IZCG0AWUo
1772331739714190	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyigg		item.update	bn-3hrs	{"field":"labels","value":{"action":"add","label":"gix-migration"}}	blake3:i-qEJQo_RA7k7qDpjaC2YdlirmT60yzyn-tO-BQLi6M
1772331739737189	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyiwg		item.update	bn-1zhm	{"field":"labels","value":{"action":"add","label":"gix-migration"}}	blake3:xYTB8OSZUGrWGi8X6ni5qzep7OsK8AG81FjCLY2Gnsg
1772331739757151	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyjAg		item.update	bn-16w3	{"field":"labels","value":{"action":"add","label":"gix-migration"}}	blake3:6uAdfPDW04h5AZdMGJkrGI4DGtjRWuvo_7lOe953Utc
1772331739777713	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyjQg		item.update	bn-2fqf	{"field":"labels","value":{"action":"add","label":"gix-migration"}}	blake3:4didrANp-bdqDlwm3hV8nzokWRLK6Tepq9kbmc755ik
1772331739797846	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyjgg		item.update	bn-1ekm	{"field":"labels","value":{"action":"add","label":"gix-migration"}}	blake3:I6PCAlZCojuB-CikevUWPNM6COv1IckoPKtIqsLzQ3E
1772331739817928	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyjwg		item.update	bn-1kcc	{"field":"labels","value":{"action":"add","label":"gix-migration"}}	blake3:LRSSmgRxInWWUhn0mkP97wh18lVE92G8dkdgOdsC7fI
1772331739837388	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEykAg		item.update	bn-2fv3	{"field":"labels","value":{"action":"add","label":"gix-migration"}}	blake3:jW9-J2jzyD2-PE3DMOahACnFxYWwYhux04lRR7RAB6Q
1772331739856636	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEykQg		item.update	bn-3cck	{"field":"labels","value":{"action":"add","label":"gix-migration"}}	blake3:zMNtdXxigf91fjbtufGb9XuFswd3Jjv_rtG0GmIbTQo
1772332217906019	bob	itc:v3:AWKSc8kyZJPJk5EAAAAAQau9WtV610AAAAEzzgE		item.update	bn-1cpd	{"field":"title","value":"maw ws merge --into: alternate merge targets"}	blake3:hndx6KfSv6hkQH3YuE-ySo1dw1DkRhjezNepx-gMJLU
1772332217917721	bob	itc:v3:AWKSc8kyZJPJk5EAAAAAQau9WtV610AAAAEzzwE		item.update	bn-1cpd	{"field":"description","value":"Allow merging workspaces into a non-default target workspace.\n\nCurrently `maw ws merge` always targets ws/default/. Add `--into <workspace>` flag to merge into any workspace, enabling:\n\n- Feature branches: merge agent work into a staging workspace, then merge staging into default when ready\n- Long-running migrations: accumulate work in a persistent workspace across many phases before landing\n- Review workflows: merge into a review workspace for validation before promoting to default\n\nImplementation considerations:\n- Target workspace must exist and be persistent (or default)\n- Epoch tracking: the target workspace needs its own epoch-like baseline\n- Conflict detection against the target workspace's state, not default's\n- Recursive merge: eventually merge the non-default target into default\n\nPunted — not blocking current work."}	blake3:UYcRwAHmsOQjf1y3CvJ19GnKr4i1Ep2rUWr0-9fU_n8
1772332217925851	bob	itc:v3:AWKSc8kyZJPJk5EAAAAAQau9WtV610AAAAEz0AE		item.update	bn-1cpd	{"field":"kind","value":"task"}	blake3:TueX0inEZbXP-AHPVM8V8tCsnC4A4K4Jqfyzo-hxFpY
1772332217934314	bob	itc:v3:AWKSc8kyZJPJk5EAAAAAQau9WtV610AAAAEz0QE		item.update	bn-1cpd	{"field":"size","value":null}	blake3:fIMr7GE2iqNIicI-f5BNXViq8JHlGCyuHWJPgC94IEM
1772332217944473	bob	itc:v3:AWKSc8kyZJPJk5EAAAAAQau9WtV610AAAAEz0gE		item.update	bn-1cpd	{"field":"urgency","value":"punt"}	blake3:jPIM3LpPpfhqah1Op7HZao-ucWb5nyThQ6j4f76w_AQ
1772332217952912	bob	itc:v3:AWKSc8kyZJPJk5EAAAAAQau9WtV610AAAAEz0wE		item.update	bn-1cpd	{"field":"labels","value":["punted"]}	blake3:n6dlKuwSDTldhxyeW57wGvchDfLwV3GxpuTZptvERUg
1772332350940123	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEykgg		item.update	bn-1t8o	{"field":"description","value":"# Context & Background\nThe GitRepo trait is the contract between maw and the git layer. It must cover all 398 git CLI call sites identified in the capability assessment (see notes/plan-gix-migration-and-crate-split.md). This trait lives in maw-git and is the ONLY interface other crates use for git operations. No other maw crate imports gix directly.\n\nA reference gix checkout is available at ~/repos/gitoxide for API discovery. Use `gix = \"0.72\"` (or latest) as the dependency.\n\n# Goals\nDefine the complete GitRepo trait with all method signatures, custom types, and error enum. No implementation yet — just the trait and types.\n\n# Operation groups for the trait\n- Refs (~60 calls): read_ref, write_ref, delete_ref, atomic_ref_update, list_refs\n- Rev-parse (~80 calls): rev_parse (resolve revspecs to OIDs)\n- Object read (~80 calls): read_blob, read_tree, read_commit, find_object\n- Object write (~40 calls): write_blob, write_tree, create_commit, create_commit_detached\n- Tree editing (~20 calls): edit_tree (upsert/remove entries)\n- Index (~15 calls): read_index, write_index, index_from_tree\n- Checkout (~15 calls): checkout_tree (tree -> working dir via index)\n- Status (~15 calls): is_dirty, changed_files\n- Diff (~20 calls): diff_trees (tree-to-tree with change types)\n- Worktrees (~20 calls): worktree_add, worktree_remove, worktree_list\n- Stash (~15 calls): stash_create, stash_apply\n- Push (~17 calls): push_branch, push_tag\n- Config (~15 calls): read_config, write_config\n\n# Design principles\n- Use maw-specific types in trait signature, NOT gix types (isolation boundary)\n- Error types should be rich enums, not stringly typed\n- Trait should be object-safe where possible (dyn GitRepo)\n- Paths as &Path, OIDs as own GitOid type (newtype around [u8; 20])\n- RefName as newtype around String with validation\n\n# Key files to create\n- crates/maw-git/src/lib.rs — re-exports trait and types\n- crates/maw-git/src/trait_def.rs (or repo.rs) — the GitRepo trait definition\n- crates/maw-git/src/types.rs — GitOid, RefName, RefEdit, TreeEntry, DiffEntry, WorktreeInfo, StatusEntry, GitError\n- crates/maw-git/Cargo.toml — add thiserror for error types\n\n# Reference: current git call patterns to study\n- ws/default/src/refs.rs — ref operations (16 calls), shows current Command::new(\"git\") patterns\n- ws/default/src/backend/git.rs — workspace backend (42 calls), shows checkout/status/commit patterns\n- ws/default/src/workspace/working_copy.rs — working copy ops (39 calls)\n- ws/default/src/push.rs — push operations (17 calls)\n- ws/default/src/v2_init.rs — init operations (57 calls), shows the full breadth of git ops\n\n# Acceptance Criteria\n- [ ] GitRepo trait compiles in maw-git with all 13 operation groups\n- [ ] Custom types defined: GitOid, RefName, RefEdit, TreeEntry, DiffEntry, WorktreeInfo, StatusEntry\n- [ ] GitError enum covers: NotFound, RefConflict, DirtyWorktree, InvalidOid, IoError, GitBackendError\n- [ ] No gix types in public API (trait signatures use only maw-git types)\n- [ ] Every method has a doc comment explaining which git operation it replaces\n- [ ] Trait is object-safe (no generic methods, returns concrete types or Box<dyn>)\n- [ ] cargo check -p maw-git passes\n\n# How This Serves Project Goals\nThis trait is the entire abstraction boundary. Every other maw crate depends on it. Getting the interface right is more important than any single implementation — if the trait is wrong, everything downstream needs rework."}	blake3:hP93us2nvSRhKJl9F9u7U7tnR-48wlakW2e6K7hcerE
1772332351778231	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEykwg		item.update	bn-3vlu	{"field":"description","value":"# Context & Background\nRef operations (~60 calls) and rev-parse (~80 calls) are the highest-frequency git operations in maw. They cover reading refs (rev-parse HEAD, refs/manifold/*), writing refs (epoch advancement), deleting refs (cleanup), and atomic multi-ref updates (merge commit). These are the foundation — almost every other maw operation starts with a ref read or rev-parse.\n\ngix reference: ~/repos/gitoxide (local checkout). Use gix's Repository API.\n\n# Goals\nImplement all ref and rev-parse methods on the GitRepo trait using gix.\n\n# gix APIs to use\n- repo.find_reference(name) / repo.try_find_reference(name) for reads\n- repo.reference(name, oid, constraint, log_msg) for single writes\n- repo.edit_references(vec![RefEdit { ... }]) for atomic multi-ref updates with CAS\n- repo.references().prefixed(\"refs/manifold/\") for listing\n- repo.rev_parse_single(\"HEAD\") / repo.rev_parse_single(\"abc123\") for revspec resolution\n- ref.delete() for deletion\n- gix::refs::transaction::Change for ref edit descriptions\n\n# Critical: atomic ref updates\nThe merge commit phase in ws/default/src/merge/commit.rs uses git update-ref --stdin with CAS (compare-and-swap). gix edit_references() with PreviousValue::MustExistAndMatch provides identical semantics. This MUST work correctly — it's the atomicity guarantee for merge safety.\n\nPattern in current code (refs.rs:~line 400):\n```\nlet mut child = Command::new(\"git\")\n    .args([\"update-ref\", \"--stdin\"])\n    .stdin(Stdio::piped())\n    // writes: \"start\\nupdate refs/manifold/epoch/current <new> <old>\\ncommit\\n\"\n```\n\n# Key files\n- Create: crates/maw-git/src/refs.rs — ref and rev-parse implementation\n- Reference: ws/default/src/refs.rs — current 16 git CLI calls to study\n- Reference: ws/default/src/epoch_gc.rs — 13 git CLI calls for ref operations\n\n# Acceptance Criteria\n- [ ] read_ref(name) returns Option<GitOid> (None for missing refs)\n- [ ] write_ref(name, oid) creates/updates a ref\n- [ ] delete_ref(name) removes a ref\n- [ ] atomic_ref_update(edits) applies multiple ref changes atomically with CAS\n- [ ] list_refs(prefix) returns all refs under a prefix\n- [ ] rev_parse(spec) resolves HEAD, branch names, OIDs, ref patterns\n- [ ] Symbolic refs (HEAD) resolve correctly through to target\n- [ ] Atomic update fails cleanly if expected OID doesn't match (CAS semantics)\n- [ ] Tests use tempdir repos and verify results via both maw-git and git CLI\n- [ ] cargo test -p maw-git ref tests pass\n\n# How This Serves Project Goals\nRefs are the coordination primitive for Manifold's epoch model. Atomic ref updates are the correctness boundary for merge safety. Getting this right with proper CAS semantics is essential."}	blake3:EYqSqlua0CHqHYmfmpFlf1tLpYIQYy2us-ZzplYExU8
1772332353690628	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEylAg		item.update	bn-s2pz	{"field":"description","value":"# Context & Background\nObject operations (~120 calls total: ~80 read, ~40 write) are the core data layer. The merge engine reads trees for patch set computation, reads blobs for content diffing, writes trees for merge results, and creates commits for epoch advancement. This is the most-called operation group after refs.\n\ngix reference: ~/repos/gitoxide (local checkout).\n\n# Goals\nImplement all object read/write and tree editing methods on the GitRepo trait using gix.\n\n# gix APIs to use\n- repo.find_object(oid).try_into::<Blob/Tree/Commit>() for typed reads\n- repo.find_blob(oid) for blob reads\n- repo.write_blob(bytes) for blob writes\n- repo.write_blob_stream(reader) for large blob writes\n- repo.write_object(tree/commit) for tree/commit writes  \n- repo.commit_as(committer, author, ref, message, tree, parents) for commits with ref update\n- repo.edit_tree(tree_oid) -> Editor for tree editing\n  - editor.upsert(path, entry_kind, oid) to add/modify entries\n  - editor.remove(path) to delete entries\n  - editor.write() to produce the new tree OID\n\n# Key patterns in current code\nws/default/src/backend/git.rs uses patterns like:\n```rust\nCommand::new(\"git\").args([\"cat-file\", \"blob\", &oid.to_string()])\nCommand::new(\"git\").args([\"hash-object\", \"-w\", \"--stdin\"])\nCommand::new(\"git\").args([\"mktree\", \"--missing\"])\nCommand::new(\"git\").args([\"commit-tree\", tree_oid, \"-p\", parent, \"-m\", msg])\n```\n\n# Key files\n- Create: crates/maw-git/src/objects.rs — object read/write implementation\n- Create: crates/maw-git/src/tree_edit.rs — tree editing wrapper (or inline in objects.rs)\n- Reference: ws/default/src/backend/git.rs — 42 git CLI calls, many are object ops\n- Reference: ws/default/src/merge/build.rs — tree building during merge\n- Reference: ws/default/src/workspace/capture.rs — snapshot creation (blob/tree writes)\n\n# Acceptance Criteria\n- [ ] read_blob(oid) returns bytes\n- [ ] write_blob(bytes) returns GitOid\n- [ ] read_tree(oid) returns Vec<TreeEntry> with name, mode, oid\n- [ ] write_tree(entries) returns GitOid for new tree\n- [ ] read_commit(oid) returns commit metadata (tree, parents, message, author)\n- [ ] create_commit(tree, parents, message, ref_to_update) returns GitOid\n- [ ] create_commit_detached(tree, parents, message) returns GitOid (no ref update)\n- [ ] edit_tree: upsert adds/modifies entries, remove deletes, write produces valid tree\n- [ ] Nested tree editing works (modify file at deep/nested/path)\n- [ ] Large blob streaming works (>1MB files)\n- [ ] Objects created by gix are visible to git CLI (git cat-file -p <oid>)\n- [ ] Tests use tempdir repos with known content, verify round-trips\n- [ ] cargo test -p maw-git object tests pass\n\n# How This Serves Project Goals\nObject operations are the data plane of the entire merge engine. Every patch set computation, conflict detection, and merge result depends on reading and writing git objects correctly."}	blake3:qQpRbYvYmx0ja3t-THXLgAL2TbjZn4XqxYVCdus-9jc
1772332354016882	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEylQg		item.update	bn-1zl7	{"field":"description","value":"# Context & Background\nCheckout (~15 calls), index (~15 calls), and status (~15 calls) are tightly related operations that control the working directory state. maw uses checkout for sync/advance (git checkout --detach <oid>), status for dirty detection (git status --porcelain), and index manipulation for merge operations.\n\ngix reference: ~/repos/gitoxide (local checkout).\n\n# Goals\nImplement checkout, index, and status methods on the GitRepo trait using gix.\n\n# gix APIs to use\n- Checkout: gix_index::State::from_tree(oid, &objects) to populate index from tree, then gix_worktree_state::checkout(index, worktree_dir, objects, ...) to write files to disk\n- Index: repo.open_index() to read current index, index.write(options) to persist, State::from_tree() to create fresh from tree\n- Status: repo.status(progress)?.into_iter() for full file-level status, repo.is_dirty()? for quick dirty check\n\n# Key workflows this enables\n- sync_worktree_to_epoch() in ws/default/src/workspace/sync.rs: currently `git checkout --detach <oid>` → becomes from_tree() + checkout()\n- auto_sync_if_stale() in various workspace commands: status check then checkout\n- merge dirty detection in ws/default/src/workspace/merge.rs: is_dirty() replaces `git status --porcelain` empty-output check\n- Workspace create in ws/default/src/workspace/create.rs: initial checkout after worktree add\n\nCurrent code pattern (backend/git.rs):\n```rust\nCommand::new(\"git\").args([\"checkout\", \"--detach\", &oid.to_string()])\nCommand::new(\"git\").args([\"status\", \"--porcelain\"])\n```\n\n# Key files\n- Create: crates/maw-git/src/checkout.rs — checkout and index operations\n- Create: crates/maw-git/src/status.rs — status and dirty detection\n- Reference: ws/default/src/backend/git.rs — checkout patterns (42 calls total, many checkout/status)\n- Reference: ws/default/src/workspace/sync.rs — sync workflow\n- Reference: ws/default/src/workspace/merge.rs — dirty detection before merge\n\n# Acceptance Criteria\n- [ ] checkout_tree(oid, worktree_path) writes tree contents to disk (equivalent to git checkout --detach)\n- [ ] index_from_tree(oid) creates an index matching a tree\n- [ ] read_index() returns current index state\n- [ ] write_index(index) persists index to disk\n- [ ] status() returns list of StatusEntry (modified, added, deleted, untracked, with paths)\n- [ ] is_dirty() returns bool matching `git status --porcelain` non-empty behavior\n- [ ] Checkout respects file modes (executable bit on Unix)\n- [ ] Checkout handles symlinks correctly\n- [ ] Status works in worktrees (not just main repo)\n- [ ] Tests verify compatibility: checkout via maw-git, then `git status` shows clean\n- [ ] cargo test -p maw-git checkout/status tests pass\n\n# How This Serves Project Goals\nCheckout and status are the \"physical\" operations — they control what's actually on disk. Workspace sync, merge preparation, and dirty detection all depend on these being correct and fast."}	blake3:DwktHo0xksxzTK-P4xYohYCqpgELgJEm8V-dCy1YiW8
1772332354426126	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEylgg		item.update	bn-14mi	{"field":"description","value":"# Context & Background\nTree-to-tree diff (~20 calls) is used by the merge engine to compute patch sets between epoch tree and workspace tree. This is how maw determines what files each workspace changed. Currently done via `git diff-tree --no-commit-id -r` and parsed from output.\n\ngix reference: ~/repos/gitoxide (local checkout).\n\n# Goals\nImplement diff_trees method on the GitRepo trait using gix.\n\n# gix APIs to use\n- gix_diff::tree::Changes::needed_to_obtain(old_tree, new_tree, state, objects, delegate)\n- Implement the Visit trait (or use the callback-based API) to collect changes\n- Change variants: Addition { entry_mode, oid }, Deletion { entry_mode, oid }, Modification { previous_entry_mode, previous_oid, entry_mode, oid }\n- For rename detection: gix_diff::tree_with_rewrites::Changes with Rewrites config\n\nCurrent code pattern (model/diff.rs and merge/collect.rs):\n```rust\nCommand::new(\"git\").args([\"diff-tree\", \"--no-commit-id\", \"-r\", &old_oid, &new_oid])\n// parses output lines: \":mode1 mode2 oid1 oid2 status\\tpath\"\n```\n\n# Key files\n- Create: crates/maw-git/src/diff.rs — tree diff implementation\n- Reference: ws/default/src/model/diff.rs — compute_patchset uses diff-tree\n- Reference: ws/default/src/merge/collect.rs — merge collection phase uses diff\n- Reference: ws/default/src/workspace/diff.rs — workspace diff display\n\n# Acceptance Criteria\n- [ ] diff_trees(old_tree_oid, new_tree_oid) returns Vec<DiffEntry>\n- [ ] DiffEntry includes: path, change_type (Added/Modified/Deleted/Renamed), old_oid, new_oid, old_mode, new_mode\n- [ ] Detects added, modified, deleted files correctly\n- [ ] File modes included (regular, executable, symlink)\n- [ ] Rename detection works (optional flag, for ast_merge support)\n- [ ] Diff against empty tree works (initial commit scenario — None as old tree)\n- [ ] Nested directory changes are flattened to file-level entries\n- [ ] Performance is at least as good as `git diff-tree -r` for typical repo sizes\n- [ ] Tests compare results against `git diff-tree` output on same repos\n- [ ] cargo test -p maw-git diff tests pass\n\n# How This Serves Project Goals\nDiff is the input to the merge engine. Every merge starts with computing what each workspace changed relative to the epoch. Incorrect diffs → incorrect merges → data loss. This must be exact."}	blake3:wef0bGzi37Gb5KLxX61HOUzefJY9LOmtr5mPbKJIel8
1772332355278099	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEylwg		item.update	bn-1qd5	{"field":"description","value":"# Context & Background\nStash operations (~15 calls) are used by snapshot-rebase-replay in working_copy.rs to preserve uncommitted work during sync and merge operations. maw uses `git stash create` (creates stash commit without updating refs) and `git stash apply` (replays changes). This is NOT a standard git stash push/pop — it's the low-level create/apply used for the zero-loss merge guarantee (G2).\n\ngix does NOT have a high-level stash API. We build stash from commit/tree/index primitives.\n\ngix reference: ~/repos/gitoxide (local checkout).\n\n# Goals\nImplement stash_create and stash_apply methods on the GitRepo trait using gix primitives.\n\n# Implementation approach\n\n**stash_create** (equivalent to `git stash create`):\n1. Read current HEAD commit\n2. Read current index (staged state)\n3. Create index tree: write_tree(index)\n4. Scan working directory for unstaged changes → create worktree tree\n5. Create stash commit: a merge commit with HEAD as first parent, index_commit as second parent\n   - Tree is the worktree tree (full snapshot of working dir state)\n   - This matches git's stash format: stash^{tree} = worktree state, stash^1 = HEAD, stash^2 = index\n6. Return stash commit OID (no ref update — caller stores in refs/manifold/recovery/*)\n\n**stash_apply** (equivalent to `git stash apply`):\n1. Read stash commit, extract worktree tree\n2. Read stash's parent (HEAD at time of stash)\n3. Diff stash-parent-tree vs stash-worktree-tree to get the changes\n4. Apply those changes to current working directory\n5. If conflicts: report them (don't silently drop changes — this is G2)\n\nCurrent code patterns (workspace/working_copy.rs):\n```rust\nCommand::new(\"git\").args([\"stash\", \"create\"])  // returns OID on stdout\nCommand::new(\"git\").args([\"stash\", \"apply\", &stash_oid])\n```\n\n# Key files\n- Create: crates/maw-git/src/stash.rs — stash create/apply implementation\n- Reference: ws/default/src/workspace/working_copy.rs — snapshot_working_copy() and replay_snapshot()\n- Reference: ws/default/src/workspace/capture.rs — capture uses stash for snapshots\n- Depends on: object read/write (bn-s2pz) for trees/commits, status (bn-1zl7) for dirty detection\n\n# Acceptance Criteria\n- [ ] stash_create() captures staged + unstaged changes into a merge commit\n- [ ] stash_apply(oid) replays changes onto current working directory state\n- [ ] Stash format matches git's format: git stash show works on maw-created stashes\n- [ ] Conflicts during apply are detected and reported (not silently dropped)\n- [ ] stash_create on clean worktree returns None (nothing to stash)\n- [ ] Works with binary files\n- [ ] Works in worktrees (not just main repo)\n- [ ] Compatible with the snapshot ref scheme (refs/manifold/recovery/*)\n- [ ] Tests verify round-trip: create stash, reset, apply stash, verify files restored\n- [ ] cargo test -p maw-git stash tests pass\n\n# How This Serves Project Goals\nStash is the mechanism behind G2 (rewrite no-loss). When maw syncs a workspace to a new epoch, it stashes uncommitted work, rebases, then re-applies. If stash create/apply is wrong, agents lose work silently — the worst possible failure mode."}	blake3:Ahj3yFh2VvWQA08rDMs_WPnQN0qfiins6xzKIPo5gd4
1772332356054974	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEymAg		item.update	bn-294r	{"field":"description","value":"# Context & Background\nPush operations (~17 calls) are the one area where gix's high-level API is insufficient. gix focuses on fetch protocol, not push. The plan keeps push as a git CLI fallback — this is acceptable because push is always over network where subprocess overhead is negligible compared to network latency.\n\n# Goals\nImplement push_branch and push_tag methods on the GitRepo trait using git CLI as the backend.\n\n# Implementation approach\nWrap Command::new(\"git\") push/push --tags in the GitRepo trait methods. This is the ONLY place in all of maw-git that uses Command::new(\"git\"). All other operations use gix.\n\nCurrent code patterns (push.rs, release.rs, transport.rs):\n```rust\nCommand::new(\"git\").args([\"push\", remote, &format!(\"{}:{}\", local, remote_ref)])\nCommand::new(\"git\").args([\"push\", remote, \"--tags\"])\nCommand::new(\"git\").args([\"push\", \"--force-with-lease\", remote, branch])\n```\n\n# Key files\n- Create: crates/maw-git/src/push.rs — push implementation (CLI wrapper)\n- Reference: ws/default/src/push.rs — 17 push calls\n- Reference: ws/default/src/release.rs — 9 calls (tag push)\n- Reference: ws/default/src/transport.rs — 23 calls (transport layer)\n\n# Acceptance Criteria\n- [ ] push_branch(remote, local_ref, remote_ref, force) works\n- [ ] push_tag(remote, tag_name) works\n- [ ] Error handling wraps git stderr into GitError::PushFailed { stderr, exit_code }\n- [ ] Force push with lease supported (--force-with-lease for --advance)\n- [ ] Dry-run option supported (--dry-run)\n- [ ] Timeout handling (push over slow network shouldn't hang forever)\n- [ ] Method signatures are backend-agnostic (can swap to gix-protocol later without trait changes)\n- [ ] cargo test -p maw-git (push tests may need to be integration-only or use mock remote)\n\n# How This Serves Project Goals\nPush is intentionally the last CLI holdout. By isolating it to one file in maw-git, we have a clean boundary: everything else is pure-Rust gix, push is CLI. When gix adds high-level push support (bn-1ekm decision), only this file changes."}	blake3:nq9AmhGn8fa6Q9HblrLjOKIxCCGXzgxYseXJSpTCsWM
1772332356895367	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEymQg		item.update	bn-38l9	{"field":"description","value":"# Context & Background\nConfig operations (~15 calls) read and write git config values. Used in doctor.rs (checking git version, config validation), v2_init.rs (setting core.bare, extensions, etc.), and workspace creation. gix can read config fully but write support is incomplete for some scenarios.\n\ngix reference: ~/repos/gitoxide (local checkout).\n\n# Goals\nImplement read_config and write_config methods on the GitRepo trait.\n\n# Implementation approach\n- **Read**: Use gix config API — repo.config_snapshot().string(\"section.key\") for typed reads. This covers all read needs.\n- **Write**: gix's config write is incomplete for some scopes. Options:\n  1. Use gix config write where it works (local scope)\n  2. Fall back to direct INI file manipulation for edge cases\n  3. Fall back to `git config` CLI for the few write calls (last resort)\n  \n  Most config writes in maw are during init (core.bare=true, extensions.worktreeConfig=true, etc.) — these are one-time operations where a CLI fallback is acceptable.\n\nCurrent code patterns (v2_init.rs, doctor.rs):\n```rust\nCommand::new(\"git\").args([\"config\", \"core.bare\", \"true\"])\nCommand::new(\"git\").args([\"config\", \"--get\", \"core.bare\"])\nCommand::new(\"git\").args([\"config\", \"--worktree\", \"core.sparseCheckout\", \"true\"])\n```\n\n# Key files\n- Create: crates/maw-git/src/config.rs — config read/write implementation\n- Reference: ws/default/src/v2_init.rs — config writes during init (57 total git calls, ~10 are config)\n- Reference: ws/default/src/doctor.rs — config reads for health checks\n\n# Acceptance Criteria\n- [ ] read_config(key) returns Option<String> for any config key\n- [ ] read_config_bool(key) returns Option<bool> with git-style truthy parsing\n- [ ] write_config(key, value) persists to local config\n- [ ] Config scopes work: local (.git/config), worktree (.git/config.worktree)\n- [ ] Values written by maw-git are readable by git CLI and vice versa\n- [ ] Tests verify round-trip: write via maw-git, read via git CLI (and reverse)\n- [ ] cargo test -p maw-git config tests pass\n\n# How This Serves Project Goals\nConfig is a small but essential surface. Doctor and init depend on it. Getting read right is critical; writes are lower frequency and can tolerate a CLI fallback if needed."}	blake3:KWruxwwF5ucfJ6mUvHu0UD67QgPgTajnFmPEUtUTuaA
1772332357676214	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEymgg		item.update	bn-3b75	{"field":"description","value":"# Context & Background\nAfter all GitRepo trait methods are implemented, we need comprehensive integration tests that exercise the full maw workflow end-to-end through the trait. These tests verify that the gix implementation works correctly as a complete system, not just individual operations in isolation.\n\n# Goals\nWrite integration tests for maw-git that exercise complete workflows matching how maw actually uses git.\n\n# Test scenarios to implement\n\n**Scenario 1: Manifold epoch lifecycle**\n1. Create a bare repo with initial commit\n2. Create refs/manifold/epoch/current pointing to initial commit\n3. Create a worktree (worktree_add)\n4. Make changes in worktree (write_blob, edit_tree, create_commit)\n5. Compute patch set (diff_trees between epoch and worktree HEAD)\n6. Create merge commit (create_commit with epoch as parent)\n7. Atomically update epoch ref (atomic_ref_update with CAS)\n8. Verify: epoch ref points to merge commit, merge commit has correct tree\n\n**Scenario 2: Workspace sync (stash-rebase-replay)**\n1. Create repo + worktree at epoch E1\n2. Make uncommitted changes in worktree\n3. Stash uncommitted changes (stash_create)\n4. Advance epoch to E2 (new commit on main)\n5. Checkout E2 in worktree (checkout_tree)\n6. Apply stash (stash_apply)\n7. Verify: uncommitted changes preserved on top of E2\n\n**Scenario 3: Multi-worktree isolation**\n1. Create repo with 3 worktrees\n2. Make different changes in each\n3. Verify status() reports correct changes per worktree\n4. Verify worktree_list() returns all 3\n5. Remove one worktree\n6. Verify remaining 2 still work, git worktree list agrees\n\n**Scenario 4: Cross-compatibility with git CLI**\n1. Create objects with maw-git, verify readable by git CLI\n2. Create objects with git CLI, verify readable by maw-git\n3. Create worktree with maw-git, verify git worktree list sees it\n4. Create worktree with git CLI, verify maw-git worktree_list sees it\n\n**Scenario 5: Error paths**\n1. rev_parse on non-existent ref → clean error, not panic\n2. checkout_tree with invalid OID → clean error\n3. atomic_ref_update with wrong expected OID → CAS failure error\n4. worktree_add with duplicate name → error\n5. stash_apply on clean worktree → no-op or clean error\n\n# Key files\n- Create: crates/maw-git/tests/integration.rs — all integration tests\n- Or: crates/maw-git/tests/epoch_lifecycle.rs, worktree_tests.rs, etc. (split by scenario)\n- Use tempfile::tempdir() for isolated test repos\n\n# Acceptance Criteria\n- [ ] All 5 scenarios implemented and passing\n- [ ] Tests create real git repos (tempdir), not mocks\n- [ ] Cross-compatibility verified: maw-git ↔ git CLI interop\n- [ ] Error paths return proper GitError variants, not panics\n- [ ] Tests are deterministic (no flaky timing, no network)\n- [ ] cargo test -p maw-git passes with all integration tests\n- [ ] Tests complete in <30 seconds total\n\n# How This Serves Project Goals\nThese tests are the proof that maw-git can replace git CLI for maw's actual workflows. If these pass, we have high confidence that wiring maw-core to maw-git (Phase 2) won't break anything."}	blake3:HfRtIW1VdHBTiuyYN4y-qR3JXJhV1Xt4M87XYXpl984
1772332358510072	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEymwg		item.update	bn-1snn	{"field":"description","value":"# Context & Background\nMove model/ into maw-core. This is the first and purest extraction — model types have zero git dependencies (only serde, sha2, etc.). They define the algebraic types that the merge engine operates on: PatchSet, Conflict, FileId, EpochId, WorkspaceId, GitOid, ordering, join semantics. Moving model/ first unblocks all other Phase 2 tasks because every other module depends on model types.\n\n# Goals\nmodel/ compiles and tests pass inside crates/maw-core, with all types re-exported from maw-core's lib.rs.\n\n# Key modules (9 files, ~3k lines)\n- model/mod.rs — module root, re-exports\n- model/types.rs — EpochId, WorkspaceId, GitOid, WorkspaceMode, MergeResult, etc.\n- model/patch.rs — PatchSet, FileChange, ChangeType\n- model/conflict.rs — Conflict, ConflictSide, ConflictResolution\n- model/diff.rs — compute_patchset(), diff computation (has test helpers that use git CLI — needs gpgsign=false)\n- model/ordering.rs — merge ordering, sequence generation\n- model/join.rs — PatchSet join/merge algebra (commutativity, associativity)\n- model/file_id.rs — deterministic file identification\n- model/layout.rs — workspace layout types\n\n# Step-by-step move procedure\n1. Copy ws/default/src/model/ → ws/default/crates/maw-core/src/model/\n2. Add `pub mod model;` to crates/maw-core/src/lib.rs\n3. Update model/mod.rs: change any `use crate::` imports to reference local crate\n4. Move model dependencies to maw-core's Cargo.toml (serde, sha2, etc.)\n5. Fix compilation errors — model/ should be self-contained, few if any cross-module deps\n6. For model/diff.rs test helpers: these use `Command::new(\"git\")` to create test repos. Either:\n   a. Keep test helpers in maw-core (they test model logic, not git)\n   b. Move test harness to dev-dependencies\n7. Re-export key types from maw-core lib.rs: `pub use model::{PatchSet, Conflict, FileId, EpochId, ...}`\n8. Update old crate: remove model/ from ws/default/src/, add `use maw_core::model` in remaining code\n9. Verify: `cargo check -p maw-core`, `cargo test -p maw-core`\n\n# Acceptance Criteria\n- [ ] All 9 model/ files in crates/maw-core/src/model/\n- [ ] No git CLI calls in model/ (pure data types + algorithms)\n- [ ] cargo test -p maw-core runs model tests and they pass\n- [ ] Key types re-exported from maw-core lib.rs\n- [ ] No compilation errors in the workspace (other crates import from maw-core)\n\n# How This Serves Project Goals\nmodel/ is the algebraic foundation of the merge engine. It has zero git dependencies, making it the safest first move. Every other Phase 2 task depends on model types being available in maw-core."}	blake3:FcHgaV8Et7cbd5hmnVz-Z1WiE8XNX0WnS7VMc9BDF8M
1772332359414534	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEynAg		item.update	bn-3pwv	{"field":"description","value":"# Context & Background\nMove oplog/, refs.rs, config.rs, merge_state.rs, epoch_gc.rs, and failpoints.rs into maw-core. These modules manage Manifold's operational state: the operation log (oplog), ref namespace, configuration, merge state machine, epoch garbage collection, and the failpoint testing framework.\n\nrefs.rs has 16 git CLI calls and epoch_gc.rs has 13 — these will be wired to maw-git in a separate task (bn-2mep). For this task, move the files first, get them compiling, and leave the git CLI calls in place temporarily.\n\n# Goals\nAll listed modules compile and test in maw-core, with git CLI calls still present (to be replaced by bn-2mep and bn-2hlz).\n\n# Modules to move\n- oplog/ (6 files: checkpoint.rs, read.rs, write.rs, view.rs, types.rs, global_view.rs, mod.rs) — operation log\n- refs.rs (29.0K, 16 git CLI calls) — Manifold ref namespace management\n- config.rs (35.6K) — maw configuration (.maw.toml parsing, merge config, AST config)\n- merge_state.rs (43.3K) — merge state machine persistence\n- epoch_gc.rs (9.0K, 13 git CLI calls) — epoch garbage collection\n- failpoints.rs (5.2K) — failpoint macro framework for testing\n\n# Step-by-step procedure\n1. Copy each module to crates/maw-core/src/\n2. Add mod declarations to crates/maw-core/src/lib.rs\n3. Move dependencies to maw-core's Cargo.toml:\n   - serde + toml for config.rs\n   - chrono or time for oplog timestamps\n   - Check each module's imports for external crate deps\n4. Fix `use crate::` imports — model types now come from local crate, git types might need maw-git\n5. For refs.rs and epoch_gc.rs: keep Command::new(\"git\") calls for now, add TODO comments marking them for bn-2mep\n6. For config.rs: has no git deps, should be clean\n7. For merge_state.rs: uses refs for state persistence — may need refs.rs moved first\n8. For failpoints.rs: self-contained macro framework, no external deps\n9. Re-export public types from lib.rs\n10. Remove from old crate location, update downstream imports\n11. Verify: cargo check -p maw-core, cargo test -p maw-core\n\n# Key file sizes (to understand effort)\n- config.rs: 35.6K — largest, but no git deps\n- merge_state.rs: 43.3K — largest overall, uses refs\n- refs.rs: 29.0K — medium, 16 git calls (kept for now)\n- epoch_gc.rs: 9.0K — small, 13 git calls (kept for now)\n- oplog/: ~15K total across 7 files\n- failpoints.rs: 5.2K — small, self-contained\n\n# Acceptance Criteria\n- [ ] All listed modules in crates/maw-core/src/\n- [ ] cargo check -p maw-core passes (even with Command::new(\"git\") still present)\n- [ ] cargo test -p maw-core passes for these modules\n- [ ] Public types re-exported from lib.rs\n- [ ] Git CLI calls in refs.rs and epoch_gc.rs marked with TODO for bn-2mep\n- [ ] No circular dependencies between maw-core modules\n\n# How This Serves Project Goals\nThese modules are the operational core of Manifold — they manage epochs, refs, config, merge state, and the operation log. Moving them into maw-core puts all domain logic in one crate. The git CLI calls will be replaced in the follow-up wire-up tasks."}	blake3:NFVKno9mp3oM0RBkThDaWEgDQ6mnEFlIBxCBhMrVKeU
1772332473349409	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEynQg		item.update	bn-1cc1	{"field":"description","value":"# Context & Background\nWorktree add/remove (~20 calls) is how maw creates and destroys agent workspaces. This is the ONE operation gix does NOT provide as a high-level API. gix's crate-status.md explicitly marks \"create, move, remove, and repair\" as unimplemented. We must build it from git primitives.\n\ngix reference: ~/repos/gitoxide (local checkout). The git worktree format is documented in gitworkspaces(7) and gitrepository-layout(5).\n\n# Goals\nImplement worktree_add, worktree_remove, and worktree_list using gix primitives (index, checkout, file creation).\n\n# Implementation approach\n\n**worktree_add(name, target_oid, worktree_path):**\n1. Create `.git/worktrees/<name>/` directory\n2. Write `.git/worktrees/<name>/gitdir` with absolute path to worktree's `.git` file\n3. Write `.git/worktrees/<name>/HEAD` with target commit OID (detached HEAD)\n4. Write `.git/worktrees/<name>/commondir` with relative path `../..` (back to main .git)\n5. Create the worktree directory at `worktree_path`\n6. Write `worktree_path/.git` file with content `gitdir: <abs path to .git/worktrees/<name>>`\n7. Populate index from target tree: `gix_index::State::from_tree(tree_oid, &objects)`\n8. Write index to `.git/worktrees/<name>/index`\n9. Checkout index to worktree: `gix_worktree_state::checkout(index, worktree_path, ...)`\n\n**worktree_remove(name):**\n1. Read `.git/worktrees/<name>/gitdir` to find worktree path\n2. Optionally verify worktree is clean (status check)\n3. Recursively delete worktree directory (std::fs::remove_dir_all)\n4. Remove `.git/worktrees/<name>/` admin directory\n5. If `.git/worktrees/` is now empty, optionally remove it\n\n**worktree_list():**\n1. Read `.git/worktrees/` directory entries\n2. For each entry, read HEAD (current commit) and gitdir (worktree location)\n3. Return Vec<WorktreeInfo> with name, path, head_oid, is_detached\n\n# Critical: compatibility with git CLI\nWorktrees created by maw-git MUST be visible to `git worktree list`, and vice versa. The format is well-documented:\n- Main worktree: tracked via `.git/HEAD`\n- Linked worktrees: tracked via `.git/worktrees/<name>/` admin dirs\n- Each admin dir contains: HEAD, gitdir, commondir, (optional) locked, config\n\n# Key files\n- Create: crates/maw-git/src/worktree.rs — worktree operations\n- Reference: ws/default/src/workspace/create.rs — current worktree creation via `git worktree add`\n- Reference: ws/default/src/workspace/destroy.rs — worktree removal\n- Reference: ws/default/src/workspace/list.rs — worktree listing\n- Depends on: checkout/index (bn-1zl7) for populating the worktree after creation\n\n# Acceptance Criteria\n- [ ] worktree_add creates a functioning worktree with checked-out files\n- [ ] `git worktree list` sees maw-created worktrees\n- [ ] maw-git worktree_list sees git-CLI-created worktrees\n- [ ] worktree_remove cleans up completely (admin dir + worktree dir)\n- [ ] Detached HEAD mode works (maw always uses detached)\n- [ ] Error on duplicate worktree names\n- [ ] Error on non-existent target commit OID\n- [ ] Concurrent worktree creation doesn't corrupt shared .git state\n- [ ] Tests verify full round-trip: add, list, check files exist, remove, verify cleanup\n- [ ] cargo test -p maw-git worktree tests pass\n\n# How This Serves Project Goals\nWorktree creation is the gateway operation — every `maw ws create` calls it. Building this from primitives is the most novel engineering in the entire migration, with no prior art in the gix ecosystem. Success here proves gix is sufficient for all of maw's needs."}	blake3:L8nuvzahtNEApGsyRFN_WKhQC5GJ4kUAEqpb9Rpit0k
1772332474115687	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyngg		item.update	bn-1cfe	{"field":"description","value":"# Context & Background\nmerge/ is the heart of maw — the merge engine that computes patch sets, detects conflicts, builds merge results, and commits epoch advancements. It's 17 files with ~10k lines, including the Kani-verified resolve algorithm and AST-aware conflict detection.\n\n# Goals\nMove merge/ into maw-core with all tests passing. merge/ depends on model types (already in maw-core from bn-1snn) and some git operations (which will be wired to maw-git in bn-2hlz).\n\n# Key modules (17 files)\n- merge/mod.rs — module root\n- merge/resolve.rs (2281 lines) — core resolve algorithm (Kani-verified)\n- merge/build.rs — merge result tree building\n- merge/build_phase.rs — build phase orchestration\n- merge/collect.rs — change collection from workspaces\n- merge/commit.rs — merge commit creation with atomic ref update\n- merge/partition.rs — conflict surface partitioning\n- merge/plan.rs — merge planning\n- merge/prepare.rs — merge preparation\n- merge/validate.rs — merge result validation\n- merge/quarantine.rs — quarantine for risky merges\n- merge/rename.rs — rename detection\n- merge/ast_merge.rs — tree-sitter AST-aware conflict detection\n- merge/types.rs — merge-specific types\n- merge/determinism_tests.rs — determinism test suite\n- merge/pushout_tests.rs — pushout test suite\n- merge/kani_proofs.rs — Kani bounded model checking harnesses\n\n# Step-by-step move procedure\n1. Copy ws/default/src/merge/ to ws/default/crates/maw-core/src/merge/\n2. Add `pub mod merge;` to crates/maw-core/src/lib.rs\n3. Update merge/mod.rs: change `use crate::model::` to local model imports (model/ already in maw-core)\n4. For git-dependent operations (commit.rs uses refs for atomic update, collect.rs uses diff-tree):\n   - Add maw-git as dependency to maw-core's Cargo.toml\n   - Accept GitRepo trait objects in merge functions that need git\n   - Leave Command::new(\"git\") calls temporarily with TODO markers where trait threading is complex\n5. Move tree-sitter dependencies (tree-sitter, tree-sitter-rust, etc.) to maw-core's Cargo.toml for ast_merge.rs\n6. kani_proofs.rs: keep behind #[cfg(kani)] / feature gate\n7. Test files (determinism_tests.rs, pushout_tests.rs): move with the module, they test merge internals\n8. Re-export key merge types from lib.rs\n9. Verify: cargo check -p maw-core, cargo test -p maw-core\n\n# Acceptance Criteria\n- [ ] All 17 merge/ files in crates/maw-core/src/merge/\n- [ ] cargo test -p maw-core passes for merge tests\n- [ ] Kani proofs still compile behind feature gate\n- [ ] AST merge works (tree-sitter deps correctly configured)\n- [ ] Merge types re-exported from maw-core lib.rs\n- [ ] Any remaining Command::new(\"git\") calls marked with TODO for bn-2hlz\n\n# How This Serves Project Goals\nThe merge engine IS maw. It's the formally verified, Kani-proven core that everything else exists to support. Moving it into maw-core makes the merge engine independently usable as a library."}	blake3:s334v1KExB3qqWQfnpiZBymk44F0sCwdXe3JEIMCHUE
1772332474858278	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEynwg		item.update	bn-3ury	{"field":"description","value":"# Context & Background\nbackend/ contains the workspace backend implementations: how maw creates, manages, and operates on workspace directories. The git backend (backend/git.rs at 1891 lines, 42 git CLI calls) is the primary backend and the biggest single integration point with git.\n\n# Goals\nMove backend/ into maw-core. The git CLI calls in backend/git.rs will remain temporarily — they'll be replaced in the wire-up task (bn-2hlz).\n\n# Key modules (6 files)\n- backend/mod.rs — Backend trait definition, factory\n- backend/git.rs (1891 lines, 42 git CLI calls) — git worktree backend (primary)\n- backend/copy.rs — copy-based backend (fallback)\n- backend/overlay.rs — overlay filesystem backend\n- backend/reflink.rs — reflink/CoW backend\n- backend/platform.rs — platform detection for backend selection\n\n# Step-by-step move procedure\n1. Copy ws/default/src/backend/ to ws/default/crates/maw-core/src/backend/\n2. Add `pub mod backend;` to crates/maw-core/src/lib.rs\n3. Update imports: model types from local crate (already moved)\n4. For backend/git.rs: keep all 42 Command::new(\"git\") calls for now with TODO markers\n   - These will be replaced in bn-2hlz (Wire backend to maw-git)\n5. Move dependencies to maw-core's Cargo.toml:\n   - fs_extra or similar for copy backend\n   - Platform detection crate if used\n6. Backend trait should be re-exported from lib.rs\n7. Remove from old crate, update downstream imports\n8. Verify: cargo check -p maw-core, cargo test -p maw-core\n\n# Acceptance Criteria\n- [ ] All 6 backend/ files in crates/maw-core/src/backend/\n- [ ] cargo check -p maw-core passes (git CLI calls still present but compiling)\n- [ ] Backend trait re-exported from lib.rs\n- [ ] Backend tests pass\n- [ ] Command::new(\"git\") calls in git.rs marked with TODO for bn-2hlz\n\n# How This Serves Project Goals\nThe backend module defines how workspaces physically exist on disk. Moving it to maw-core is prerequisite for the wire-up task (bn-2hlz) which replaces all 42 git CLI calls — the single highest-value conversion in the entire migration."}	blake3:W5SsNoE6LzUc4HSa4k7_IVvfgNbx1VYEBnpT5A2zekk
1772332573752802	bob	itc:v3:AWKSc8kyZJPJk5EAAAAAQau9WtV610AAAAEz1AE		item.update	bn-36ud	{"field":"title","value":"Phase 0: Convert to Cargo workspace"}	blake3:WT7XCHAnQi-EmTzWrEXLYfkJWFqf4q7ysDMuS2wRpBc
1772332573772375	bob	itc:v3:AWKSc8kyZJPJk5EAAAAAQau9WtV610AAAAEz1QE		item.update	bn-36ud	{"field":"description","value":"# Context & Background\nmaw is currently a single 68k-line crate at ws/default/. To support the gix migration and crate split (see notes/plan-gix-migration-and-crate-split.md), we need to convert to a Cargo workspace first. This is the foundation that all other phases build on.\n\n# Goals\n- Establish a Cargo workspace at ws/default/ with a root Cargo.toml\n- Create empty crate shells under crates/ for: maw-git, maw-core, maw-cli, maw-tui, maw-assurance\n- The existing code stays in its current location for now (one member of the workspace)\n- Everything compiles and tests pass — zero behavior change\n\n# Reasoning/Justification\nPhase 0 is deliberately minimal. It only changes build configuration, not code. This means if anything goes wrong, it's purely a Cargo issue, not a code issue. It also lets us verify the workspace setup works before moving any code.\n\n# Implementation Approach\n1. Rename ws/default/Cargo.toml [package] section — the existing crate becomes `maw-workspaces` (the CLI binary, already named this)\n2. Create ws/default/Cargo.toml [workspace] section listing all member crates\n3. Create crates/ directory with skeleton Cargo.toml + src/lib.rs for each crate\n4. Each skeleton crate should have correct name, version, edition, and empty lib.rs\n5. Update the root Justfile if needed for workspace-aware commands\n6. Verify: cargo build --release, cargo test, just install, maw --version\n\n# Key files\n- ws/default/Cargo.toml (modify — add [workspace])\n- ws/default/crates/maw-git/Cargo.toml (create)\n- ws/default/crates/maw-core/Cargo.toml (create)\n- ws/default/crates/maw-cli/Cargo.toml (create)\n- ws/default/crates/maw-tui/Cargo.toml (create)\n- ws/default/crates/maw-assurance/Cargo.toml (create)\n\n# Acceptance Criteria\n- [ ] Cargo workspace with 6 members (existing crate + 5 new skeletons)\n- [ ] cargo build --release succeeds\n- [ ] cargo test passes (all 1100+ tests)\n- [ ] just install works, maw --version shows correct version\n- [ ] Each skeleton crate compiles independently (cargo check -p maw-git etc.)\n- [ ] CI publish workflow still works (only publishes maw-workspaces)\n\n# How This Serves Project Goals\nFoundation for the entire gix migration and crate split. Every subsequent phase depends on this workspace structure existing."}	blake3:noEFkQlkWqou16aWpmOCr3RyDu2XlzAF_qU_2tXKxXo
1772332573780786	bob	itc:v3:AWKSc8kyZJPJk5EAAAAAQau9WtV610AAAAEz1gE		item.update	bn-36ud	{"field":"kind","value":"task"}	blake3:9G_fL8ZcodQ7fmD8PQSVpyudoQ7A38ZtQI_cBrxRAhw
1772332573791164	bob	itc:v3:AWKSc8kyZJPJk5EAAAAAQau9WtV610AAAAEz1wE		item.update	bn-36ud	{"field":"size","value":null}	blake3:IYN9j6R9r2FYeTwY_oE_LAXK-w3ahqDLlDRZ_kHWNm8
1772332573799648	bob	itc:v3:AWKSc8kyZJPJk5EAAAAAQau9WtV610AAAAEz2AE		item.update	bn-36ud	{"field":"urgency","value":"default"}	blake3:JfeeDauV0p_Ov4xoKzk-vIqWBfvT0HO0uW6tw6GMglM
1772332573808277	bob	itc:v3:AWKSc8kyZJPJk5EAAAAAQau9WtV610AAAAEz2QE		item.update	bn-36ud	{"field":"labels","value":["gix-migration"]}	blake3:NuWF5AWD6fB-QfjH-AqgF1y0cxjX36wV5o2Ta2DTg_k
1772332730916151	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyoAg		item.move	bn-36ud	{"state":"doing"}	blake3:Jxp0_JXJ0Tmum9cUMi8OTAXNuXlhHy1bqmV6JMNWYzE
1772332927434643	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyoQg		item.move	bn-36ud	{"state":"done"}	blake3:NlddFB5769T-we8-5dAp82pATW6noEXahl6GVVTWKjA
1772332928164193	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyogg		item.move	bn-1t8o	{"state":"doing"}	blake3:jKz8MGf6UGpB3ndUPrPnn4F8dZNr7KjwIGCiVFAGkTs
1772333246708516	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyowg		item.move	bn-1t8o	{"state":"done"}	blake3:fFiV76ggyM2iE8F3EbKw64dm29H2S9a2nNxdHchp66A
1772333388167207	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEypAg		item.move	bn-3vlu	{"state":"doing"}	blake3:Axl34VCvRsMFGtzXCgfl5NJGB39zA3pEiHvBNLqWJ9k
1772333388192199	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEypQg		item.move	bn-s2pz	{"state":"doing"}	blake3:49eyM1H4Z_AZ2UCckuBIt4xLkYJZT3gsGslipcL2HcY
1772333388210684	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEypgg		item.move	bn-1zl7	{"state":"doing"}	blake3:0UNHoAmvgNGX2YSLj7VLFgR6oCjFlA8YyfWjeMbr2qk
1772333388229102	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEypwg		item.move	bn-14mi	{"state":"doing"}	blake3:796mk3HPIbl9amus0QXq79XOqd1EjJuZFHf-uclRzco
1772333388247144	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyqAg		item.move	bn-294r	{"state":"doing"}	blake3:NApCau1qyKIbHKaI0ELLnXjkrnDqLn7QOyJ6A3JpMps
1772333388265454	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyqQg		item.move	bn-38l9	{"state":"doing"}	blake3:Sf5ju5PcHioOHby8caOUpY8HtLOd5qe_dEDL_eSKpfc
1772333545819592	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyqgg		item.move	bn-294r	{"state":"done"}	blake3:-LJqzzg7I3lICovA1Ys2KWUFv623thjdkOqyD52zAho
1772333638710708	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyqwg		item.move	bn-38l9	{"state":"done"}	blake3:HA2qzECyTp2WSC8J_oKfrwTO6BbS1JVPKkTb1ervJL0
1772334030866979	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyrAg		item.move	bn-3vlu	{"state":"done"}	blake3:8521Nbcoyiu6uO8miGkuGJzCa0KV4LejhoHA3mKBbRs
1772334030893258	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyrQg		item.move	bn-s2pz	{"state":"done"}	blake3:V47psupsm6nraQ6pQGUi4TqxFP-G0DWoPSiEepla06I
1772334030912362	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyrgg		item.move	bn-1zl7	{"state":"done"}	blake3:kMPHUhvaFGSwA2UkhtY0jQzvRdXX_XQAHRwMAeNi79Q
1772334030931479	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyrwg		item.move	bn-14mi	{"state":"done"}	blake3:BQbl9KXpm6_XgOpuYJbVQCkcw8fiOCmH-KwqtdsyVmQ
1772334039384258	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEysAg		item.move	bn-1qd5	{"state":"doing"}	blake3:96fFu4jnuAdf5r8MtR9v22TAvlV2S3m-hTeDIMOBd7E
1772334039409150	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEysQg		item.move	bn-1cc1	{"state":"doing"}	blake3:Pmsl5pmYzIR5oc0cZKe_QAtSlZsxlN4gGbPYzZenVXo
1772334246755223	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEysgg		item.move	bn-1qd5	{"state":"done"}	blake3:WDoTl6ataDWI1BU8JjY8qkoxRtMRaLxuvr2_VaIHid8
1772334246784321	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyswg		item.move	bn-1cc1	{"state":"done"}	blake3:wT2LtRPrREhWqX2Xl8jpz91acYTRYsKIDiUAt_pPjMc
1772334258465433	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEytAg		item.move	bn-3s9y	{"state":"done"}	blake3:kieCI9qPrwRzh3Aa75w1Vr2kY1EvPheOJQJcWYb1EvU
1772334262791116	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEytQg		item.move	bn-3b75	{"state":"doing"}	blake3:59JaM8g5Sp6vW7m__cGy4ypUdIUm2nAAzOjbYmH9ROc
1772334643514423	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEytgg		item.move	bn-3b75	{"state":"done"}	blake3:jCEOfNUK63j83y5b9RqrtMUrQ-RbUYGKEcxdLxcBDlQ
1772334664236846	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEytwg		item.move	bn-1snn	{"state":"doing"}	blake3:wVA8wwnOE5tbqeXflhQlChztGhQJLluC_FX11v9xr0I
1772335367186445	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyuAg		item.move	bn-1snn	{"state":"done"}	blake3:pW8pYe9IodEU-A8kdi0G4Zcvq8kOLwWhItGy9zGuJ6o
1772335386043896	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyuQg		item.move	bn-3pwv	{"state":"doing"}	blake3:DXMVQTUhqM8sw7mWzCeudgjz7vljmuBACtygaNZ1Fgs
1772335386071287	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyugg		item.move	bn-1cfe	{"state":"doing"}	blake3:W0yGy-ga6Sy3B-twwkjPzT1D7omacIAJMflntg13szE
1772336414325175	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyuwg		item.move	bn-3pwv	{"state":"done"}	blake3:KQx0EpczkgOTjeN8Su5xvE4SXPPZBRUMGhRZc6LNaQY
1772336415000263	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyvAg		item.move	bn-1cfe	{"state":"done"}	blake3:SbapHdtNleG_AgRBGzYMCArSjYfcz5HRV5POqYeNpDk
1772336437562612	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyvQg		item.move	bn-3ury	{"state":"doing"}	blake3:4i2LuT9XoRyKV2_ECDqfYZdSJvtSElR5JI6rcBC5HGY
1772336437590129	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyvgg		item.move	bn-2mep	{"state":"doing"}	blake3:CY22liZJmEHl0qA21iKEftPXLaDltvZSa5-_jeXqgqE
1772337292333570	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyvwg		item.move	bn-3ury	{"state":"done"}	blake3:jVWkmjHQWhlRATPX2wEt3VIZ-tu2hUBRjG9i2HODCdQ
1772337292353040	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEywAg		item.move	bn-2mep	{"state":"done"}	blake3:9uKiMfX8RCzMSugQ2M9SpTZrCQKVBIHJzdZ-1LjS1Ho
1772337299701778	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEywQg		item.move	bn-2hlz	{"state":"doing"}	blake3:c3Hu6Epw4BdEWDnfHxoCanShiTAQlRQmwYwIq-UAbGE
1772338917179867	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEywgg		item.move	bn-2hlz	{"state":"done"}	blake3:Ujnl7L5IMxW5gq4clABFZQZAmnSuyrm1iwMi-F_h0HQ
1772338917184534	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEywwg		item.move	bn-10ha	{"reason":"auto-completed: all children of bn-10ha are done","state":"done"}	blake3:5et69_V-yfsdT6n0zWxIwPb0oeZg2P3umZpu6o0cya4
1772338941198331	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyxAg		item.move	bn-11e8	{"state":"doing"}	blake3:DK3c5DDhfWZEHJbV1tG3NZWa2mxJzZxjTDsnNIeckwQ
1772339683657370	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyxQg		item.move	bn-11e8	{"state":"done"}	blake3:Mw-FQFO-8Yx6is-ly8rPTrmzpHJUwWMmZrYT3KTxWvU
1772339699611711	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyxgg		item.move	bn-136o	{"state":"doing"}	blake3:2X9BoWUmDqyv1kEdWB26Gd4IW18fZfQQHw03F0Qpqd0
1772339699636930	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyxwg		item.move	bn-17pr	{"state":"doing"}	blake3:ThXH-hWwDj8jwiQhm5ZPUPbDeWvH2up7JJxibVATr3o
1772339699657152	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyyAg		item.move	bn-6zjw	{"state":"doing"}	blake3:IkxRfb9cKkytHsB3XPh3_G_8fV4k6pxrAQorxffQtAc
1772339699676560	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyyQg		item.move	bn-b74f	{"state":"doing"}	blake3:hQmBp_XIPKk0Xf9YumSHaERQ1Tvd3WM3Tisx-H5AAlM
1772340710186346	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyygg		item.move	bn-136o	{"state":"done"}	blake3:7zc6UVFM6gOdwwyeNRduUa54NZxuvWaVfPuDSsnlQik
1772340710206281	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyywg		item.move	bn-17pr	{"state":"done"}	blake3:WEwPecKH08gK6RQOr0-FAu-3g1UQd92YONiB-2PFEOg
1772340710228090	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyzAg		item.move	bn-6zjw	{"state":"done"}	blake3:wAhC5jaMHf9DNiTRef5gOfpY_ci4JKYqvtwO3eZCPu8
1772340710247996	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyzQg		item.move	bn-b74f	{"state":"done"}	blake3:KYoKR6jiGwHJSPhup6-qfUKeNlizjllaqM_s4lqOtMw
1772340728008527	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyzgg		item.move	bn-32ne	{"state":"doing"}	blake3:LobAqNwwQYqLJmDxQA6JBwcvwYfzksM6VtJmgofXLy4
1772340766596105	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEyzwg		item.move	bn-32ne	{"state":"done"}	blake3:qn8SXgccokQsSIG3fwvmo2G6fruuhcwo3VkCYpgZQRc
1772340766601098	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEy0Ag		item.move	bn-2o5g	{"reason":"auto-completed: all children of bn-2o5g are done","state":"done"}	blake3:erJW32sJurvPZEgzulzUFVtxNUyXTfJdWVIylWrJQmU
1772340780151353	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEy0Qg		item.move	bn-vsu4	{"state":"doing"}	blake3:5A78DtWu-6m9T-xc4pQ_msYkAq29GB7YatpbmPxMEsY
1772340780176924	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEy0gg		item.move	bn-12lp	{"state":"doing"}	blake3:LeXjrCH01JB_yYw5u9lxliE6Pdy0ctry9txwIRhaq18
1772340780195743	maw-dev	itc:v3:AWKTmSTM_JOSSTQAAAAAQa7Vbfq6qsAAAAEy0wg		item.move	bn-3hrs	{"state":"doing"}	blake3:_-xUThpz3hxslbEx4VifJcJ8aCTfcWmOhCaFQBySrpU
